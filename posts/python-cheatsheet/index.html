<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Python Cheatsheet" /><meta name="author" content="Richard Hernandez" /><meta property="og:locale" content="en_US" /><meta name="description" content="Contents 1. Collections: List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator. 2. Types: Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime. 3. Syntax: Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception. 4. System: Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands. 5. Data: JSON, Pickle, CSV, SQLite, Bytes, Struct, Array, Memory_View, Deque. 6. Advanced: Threading, Operator, Introspection, Metaprograming, Eval, Coroutines." /><meta property="og:description" content="Contents 1. Collections: List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator. 2. Types: Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime. 3. Syntax: Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception. 4. System: Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands. 5. Data: JSON, Pickle, CSV, SQLite, Bytes, Struct, Array, Memory_View, Deque. 6. Advanced: Threading, Operator, Introspection, Metaprograming, Eval, Coroutines." /><link rel="canonical" href="/posts/python-cheatsheet/" /><meta property="og:url" content="/posts/python-cheatsheet/" /><meta property="og:site_name" content="Richard Hernandez" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-25T00:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Python Cheatsheet" /><meta name="twitter:site" content="@rhg101997" /><meta name="twitter:creator" content="@Richard Hernandez" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Richard Hernandez"},"description":"Contents 1. Collections: List, Dictionary, Set, Tuple, Range, Enumerate, Iterator, Generator. 2. Types: Type, String, Regular_Exp, Format, Numbers, Combinatorics, Datetime. 3. Syntax: Args, Inline, Closure, Decorator, Class, Duck_Type, Enum, Exception. 4. System: Exit, Print, Input, Command_Line_Arguments, Open, Path, OS_Commands. 5. Data: JSON, Pickle, CSV, SQLite, Bytes, Struct, Array, Memory_View, Deque. 6. Advanced: Threading, Operator, Introspection, Metaprograming, Eval, Coroutines.","url":"/posts/python-cheatsheet/","@type":"BlogPosting","headline":"Python Cheatsheet","dateModified":"2021-08-28T17:38:46-04:00","datePublished":"2021-04-25T00:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/python-cheatsheet/"},"@context":"https://schema.org"}</script><title>Python Cheatsheet | Richard Hernandez</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Richard Hernandez</a></div><div class="site-subtitle font-italic">Computer Engineer @ FIU</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="https://tools.richardhg.com/notes/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>NOTES</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/passwordgen/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>PASSWORD GEN.</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/rhg101997" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/rhg101997" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Python Cheatsheet</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Python Cheatsheet</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Richard Hernandez </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Apr 25, 2021, 12:00 AM -0400" prep="on" > Apr 25, 2021 <i class="unloaded">2021-04-25T00:00:00-04:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sat, Aug 28, 2021, 5:38 PM -0400" prefix="Updated " > Aug 28, 2021 <i class="unloaded">2021-08-28T17:38:46-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="9944 words">55 min</span> <span id="pv" class="pageviews"><i class="fas fa-spinner fa-spin fa-fw"></i></span></div></div><div class="post-content"><h2 id="contents">Contents</h2><p><strong>1. Collections:</strong> <strong><a href="#list"><code class="language-plaintext highlighter-rouge">List</code></a></strong><strong>,</strong> <strong><a href="#dictionary"><code class="language-plaintext highlighter-rouge">Dictionary</code></a></strong><strong>,</strong> <strong><a href="#set"><code class="language-plaintext highlighter-rouge">Set</code></a></strong><strong>,</strong> <strong><a href="#tuple"><code class="language-plaintext highlighter-rouge">Tuple</code></a></strong><strong>,</strong> <strong><a href="#range"><code class="language-plaintext highlighter-rouge">Range</code></a></strong><strong>,</strong> <strong><a href="#enumerate"><code class="language-plaintext highlighter-rouge">Enumerate</code></a></strong><strong>,</strong> <strong><a href="#iterator"><code class="language-plaintext highlighter-rouge">Iterator</code></a></strong><strong>,</strong> <strong><a href="#generator"><code class="language-plaintext highlighter-rouge">Generator</code></a></strong><strong>.</strong><br /> <strong>2. Types:</strong> <strong><a href="#type"><code class="language-plaintext highlighter-rouge">Type</code></a></strong><strong>,</strong> <strong><a href="#string"><code class="language-plaintext highlighter-rouge">String</code></a></strong><strong>,</strong> <strong><a href="#regex"><code class="language-plaintext highlighter-rouge">Regular_Exp</code></a></strong><strong>,</strong> <strong><a href="#format"><code class="language-plaintext highlighter-rouge">Format</code></a></strong><strong>,</strong> <strong><a href="#numbers-1"><code class="language-plaintext highlighter-rouge">Numbers</code></a></strong><strong>,</strong> <strong><a href="#combinatorics"><code class="language-plaintext highlighter-rouge">Combinatorics</code></a></strong><strong>,</strong> <strong><a href="#datetime"><code class="language-plaintext highlighter-rouge">Datetime</code></a></strong><strong>.</strong><br /> <strong>3. Syntax:</strong> <strong><a href="#arguments"><code class="language-plaintext highlighter-rouge">Args</code></a></strong><strong>,</strong> <strong><a href="#inline"><code class="language-plaintext highlighter-rouge">Inline</code></a></strong><strong>,</strong> <strong><a href="#closure"><code class="language-plaintext highlighter-rouge">Closure</code></a></strong><strong>,</strong> <strong><a href="#decorator"><code class="language-plaintext highlighter-rouge">Decorator</code></a></strong><strong>,</strong> <strong><a href="#class"><code class="language-plaintext highlighter-rouge">Class</code></a></strong><strong>,</strong> <strong><a href="#duck-types"><code class="language-plaintext highlighter-rouge">Duck_Type</code></a></strong><strong>,</strong> <strong><a href="#enum"><code class="language-plaintext highlighter-rouge">Enum</code></a></strong><strong>,</strong> <strong><a href="#exceptions"><code class="language-plaintext highlighter-rouge">Exception</code></a></strong><strong>.</strong><br /> <strong>4. System:</strong> <strong><a href="#exit"><code class="language-plaintext highlighter-rouge">Exit</code></a></strong><strong>,</strong> <strong><a href="#print"><code class="language-plaintext highlighter-rouge">Print</code></a></strong><strong>,</strong> <strong><a href="#input"><code class="language-plaintext highlighter-rouge">Input</code></a></strong><strong>,</strong> <strong><a href="#command-line-arguments"><code class="language-plaintext highlighter-rouge">Command_Line_Arguments</code></a></strong><strong>,</strong> <strong><a href="#open"><code class="language-plaintext highlighter-rouge">Open</code></a></strong><strong>,</strong> <strong><a href="#paths"><code class="language-plaintext highlighter-rouge">Path</code></a></strong><strong>,</strong> <strong><a href="#os-commands"><code class="language-plaintext highlighter-rouge">OS_Commands</code></a></strong><strong>.</strong><br /> <strong>5. Data:</strong> <strong><a href="#json"><code class="language-plaintext highlighter-rouge">JSON</code></a></strong><strong>,</strong> <strong><a href="#pickle"><code class="language-plaintext highlighter-rouge">Pickle</code></a></strong><strong>,</strong> <strong><a href="#csv"><code class="language-plaintext highlighter-rouge">CSV</code></a></strong><strong>,</strong> <strong><a href="#sqlite"><code class="language-plaintext highlighter-rouge">SQLite</code></a></strong><strong>,</strong> <strong><a href="#bytes"><code class="language-plaintext highlighter-rouge">Bytes</code></a></strong><strong>,</strong> <strong><a href="#struct"><code class="language-plaintext highlighter-rouge">Struct</code></a></strong><strong>,</strong> <strong><a href="#array"><code class="language-plaintext highlighter-rouge">Array</code></a></strong><strong>,</strong> <strong><a href="#memory-view"><code class="language-plaintext highlighter-rouge">Memory_View</code></a></strong><strong>,</strong> <strong><a href="#deque"><code class="language-plaintext highlighter-rouge">Deque</code></a></strong><strong>.</strong><br /> <strong>6. Advanced:</strong> <strong><a href="#threading"><code class="language-plaintext highlighter-rouge">Threading</code></a></strong><strong>,</strong> <strong><a href="#operator"><code class="language-plaintext highlighter-rouge">Operator</code></a></strong><strong>,</strong> <strong><a href="#introspection"><code class="language-plaintext highlighter-rouge">Introspection</code></a></strong><strong>,</strong> <strong><a href="#metaprograming"><code class="language-plaintext highlighter-rouge">Metaprograming</code></a></strong><strong>,</strong> <strong><a href="#eval"><code class="language-plaintext highlighter-rouge">Eval</code></a></strong><strong>,</strong> <strong><a href="#coroutines"><code class="language-plaintext highlighter-rouge">Coroutines</code></a></strong><strong>.</strong></p><blockquote><p>This post is modified to fit my needs. <strong>The original source is in the following <a href="https://github.com/gto76/python-cheatsheet">link</a></strong></p></blockquote><h2 id="main">Main</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>     <span class="c1"># Runs main() if file wasn't imported.
</span>    <span class="n">main</span><span class="p">()</span>
</pre></table></code></div></div><h2 id="list">List</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">[</span><span class="n">from_inclusive</span> <span class="p">:</span> <span class="n">to_exclusive</span> <span class="p">:</span> <span class="err">±</span><span class="n">step_size</span><span class="p">]</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;list&gt; += [&lt;el&gt;]
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Or: &lt;list&gt; += &lt;collection&gt;
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">sum_of_elements</span>  <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)]</span>
<span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="p">(</span><span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">el</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="n">flatter_list</span>     <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="p">.</span><span class="n">chain</span><span class="p">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">))</span>
<span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">el</span><span class="p">:</span> <span class="n">out</span> <span class="o">*</span> <span class="n">el</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">list_of_chars</span>    <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Inserts item at index and moves the rest to the right.
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">pop</span><span class="p">([</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">])</span>    <span class="c1"># Returns and removes item at index or from the end.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Returns number of occurrences. Also works on strings.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Returns index of the first occurrence or raises ValueError.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Removes first occurrence of the item or raises ValueError.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>                 <span class="c1"># Removes all items. Also works on dictionary and set.
</span></pre></table></code></div></div><h2 id="dictionary">Dictionary</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">keys</span><span class="p">()</span>                          <span class="c1"># Coll. of keys that reflects changes.
</span><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">values</span><span class="p">()</span>                        <span class="c1"># Coll. of values that reflects changes.
</span><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">items</span><span class="p">()</span>                         <span class="c1"># Coll. of key-value tuples that reflects chgs.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>          <span class="c1"># Returns default if key is missing.
</span><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>   <span class="c1"># Returns and writes default if key is missing.
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Creates a dict with default value of type.
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>     <span class="c1"># Creates a dict with default value 1.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Creates a dict from coll. of key-value pairs.
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>                <span class="c1"># Creates a dict from two collections.
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span> <span class="p">[,</span> <span class="n">value</span><span class="p">])</span>          <span class="c1"># Creates a dict from collection of keys.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">)</span>                           <span class="c1"># Adds items. Replaces ones with matching keys.
</span><span class="n">value</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>                         <span class="c1"># Removes item or raises KeyError.
</span><span class="p">{</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">value</span><span class="p">}</span>    <span class="c1"># Returns set of keys that point to the value.
</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>  <span class="c1"># Returns a dictionary, filtered by keys.
</span></pre></table></code></div></div><h3 id="counter">Counter</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'blue'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">,</span> <span class="s">'red'</span><span class="p">,</span> <span class="s">'red'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">[</span><span class="s">'yellow'</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">Counter</span><span class="p">({</span><span class="s">'blue'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'red'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'yellow'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">(</span><span class="s">'blue'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="set">Set</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                                 <span class="c1"># Or: &lt;set&gt; |= {&lt;el&gt;}
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...])</span>              <span class="c1"># Or: &lt;set&gt; |= &lt;set&gt;
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">union</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Or: &lt;set&gt; | &lt;set&gt;
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">intersection</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;set&gt; &amp; &lt;set&gt;
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; - &lt;set&gt;
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Or: &lt;set&gt; ^ &lt;set&gt;
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">issubset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;set&gt; &lt;= &lt;set&gt;
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">issuperset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; &gt;= &lt;set&gt;
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>                              <span class="c1"># Raises KeyError if empty.
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Raises KeyError if missing.
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">.</span><span class="n">discard</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                             <span class="c1"># Doesn't raise an error.
</span></pre></table></code></div></div><h3 id="frozen-set">Frozen Set</h3><ul><li><strong>Is immutable and hashable.</strong><li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">frozenset</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="tuple">Tuple</h2><p><strong>Tuple is an immutable and hashable list.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">()</span>
<span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,)</span>                           <span class="c1"># Or: &lt;el&gt;,
</span><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_2</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...])</span>          <span class="c1"># Or: &lt;el_1&gt;, &lt;el_2&gt; [, ...]
</span></pre></table></code></div></div><h3 id="named-tuple">Named Tuple</h3><p><strong>Tuple’s subclass with named elements.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'Point'</span><span class="p">,</span> <span class="s">'x y'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">x</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s">'y'</span><span class="p">)</span>
<span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">_fields</span>  <span class="c1"># Or: Point._fields
</span><span class="p">(</span><span class="s">'x'</span><span class="p">,</span> <span class="s">'y'</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="range">Range</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">to_exclusive</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">from_inclusive</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">from_inclusive</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">,</span> <span class="err">±</span><span class="n">step_size</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">from_inclusive</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span><span class="p">.</span><span class="n">start</span>
<span class="n">to_exclusive</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span><span class="p">.</span><span class="n">stop</span>
</pre></table></code></div></div><h2 id="enumerate">Enumerate</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">el</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">i_start</span><span class="p">]):</span>
    <span class="p">...</span>
</pre></table></code></div></div><h2 id="iterator">Iterator</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># `iter(&lt;iter&gt;)` returns unmodified iterator.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>     <span class="c1"># A sequence of return values until 'to_exclusive'.
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">default</span><span class="p">])</span>           <span class="c1"># Raises StopIteration or returns 'default' on end.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Returns a list of iterator's remaining elements.
</span></pre></table></code></div></div><h3 id="itertools">Itertools</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">repeat</span><span class="p">,</span> <span class="n">cycle</span><span class="p">,</span> <span class="n">chain</span><span class="p">,</span> <span class="n">islice</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>             <span class="c1"># Returns updated value endlessly. Accepts floats.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">repeat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">times</span><span class="p">])</span>             <span class="c1"># Returns element endlessly or 'times' times.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">cycle</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Repeats the sequence endlessly.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">chain</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_2</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...])</span>  <span class="c1"># Empties collections in order.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">chain</span><span class="p">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Empties collections inside a collection in order.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>       <span class="c1"># Only returns first 'to_exclusive' elements.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">from_inclusive</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>  <span class="c1"># `to_exclusive, step_size`.
</span></pre></table></code></div></div><h2 id="generator">Generator</h2><ul><li><strong>Any function that contains a yield statement returns a generator.</strong><li><strong>Generators and iterators are interchangeable.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">start</span>
        <span class="n">start</span> <span class="o">+=</span> <span class="n">step</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="type">Type</h2><ul><li><strong>Everything is an object.</strong><li><strong>Every object has a type.</strong><li><strong>Type and class are synonymous.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Or: &lt;el&gt;.__class__
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="s">'a'</span><span class="p">),</span> <span class="s">'a'</span><span class="p">.</span><span class="n">__class__</span><span class="p">,</span> <span class="nb">str</span>
<span class="p">(</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">str</span><span class="s">'&gt;, &lt;class '</span><span class="nb">str</span><span class="s">'&gt;, &lt;class '</span><span class="nb">str</span><span class="s">'&gt;)
</span></pre></table></code></div></div><h4 id="some-types-do-not-have-built-in-names-so-they-must-be-imported">Some types do not have built-in names, so they must be imported:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">,</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">GeneratorType</span>
</pre></table></code></div></div><h3 id="abstract-base-classes">Abstract Base Classes</h3><p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not. ABC can also manually decide whether or not a specific class is its virtual subclass, usually based on which methods the class has implemented. For instance, Iterable ABC looks for method iter() while Collection ABC looks for methods iter(), contains() and len().</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Iterable</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">)</span>
<span class="bp">True</span>
</pre></table></code></div></div><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>+------------------+------------+------------+------------+
|                  |  Sequence  | Collection |  Iterable  |
+------------------+------------+------------+------------+
| list, range, str |    yes     |    yes     |    yes     |
| dict, set        |            |    yes     |    yes     |
| iter             |            |            |    yes     |
+------------------+------------+------------+------------+
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">numbers</span> <span class="kn">import</span> <span class="n">Integral</span><span class="p">,</span> <span class="n">Rational</span><span class="p">,</span> <span class="n">Real</span><span class="p">,</span> <span class="n">Complex</span><span class="p">,</span> <span class="n">Number</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="n">Number</span><span class="p">)</span>
<span class="bp">True</span>
</pre></table></code></div></div><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>+--------------------+----------+----------+----------+----------+----------+
|                    | Integral | Rational |   Real   | Complex  |  Number  |
+--------------------+----------+----------+----------+----------+----------+
| int                |   yes    |   yes    |   yes    |   yes    |   yes    |
| fractions.Fraction |          |   yes    |   yes    |   yes    |   yes    |
| float              |          |          |   yes    |   yes    |   yes    |
| complex            |          |          |          |   yes    |   yes    |
| decimal.Decimal    |          |          |          |          |   yes    |
+--------------------+----------+----------+----------+----------+----------+
</pre></table></code></div></div><h2 id="string">String</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>                       <span class="c1"># Strips all whitespace characters from both ends.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'&lt;chars&gt;'</span><span class="p">)</span>              <span class="c1"># Strips all passed characters from both ends.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>                       <span class="c1"># Splits on one or more whitespace characters.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Splits on 'sep' str at most 'maxsplit' times.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>    <span class="c1"># Splits on [\n\r\f\v\x1c\x1d\x1e\x85] and '\r\n'.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_strings</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins elements using string as a separator.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>                  <span class="c1"># Checks if string contains a substring.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Pass tuple of strings for multiple options.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Pass tuple of strings for multiple options.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Returns start index of the first match or -1.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Same but raises ValueError if missing.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="p">[,</span> <span class="n">count</span><span class="p">])</span>   <span class="c1"># Replaces 'old' with 'new' at most 'count' times.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">.</span><span class="n">translate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Use `str.maketrans(&lt;dict&gt;)` to generate table.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts int to Unicode char.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts Unicode char to int.
</span></pre></table></code></div></div><ul><li><strong>Also: <code class="language-plaintext highlighter-rouge">'lstrip()'</code>, <code class="language-plaintext highlighter-rouge">'rstrip()'</code>.</strong><li><strong>Also: <code class="language-plaintext highlighter-rouge">'lower()'</code>, <code class="language-plaintext highlighter-rouge">'upper()'</code>, <code class="language-plaintext highlighter-rouge">'capitalize()'</code> and <code class="language-plaintext highlighter-rouge">'title()'</code>.</strong></ul><h3 id="property-methods">Property Methods</h3><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>+---------------+----------+----------+----------+----------+----------+
|               | [ !#$%…] | [a-zA-Z] |  [¼½¾]   |  [²³¹]   |  [0-9]   |
+---------------+----------+----------+----------+----------+----------+
| isprintable() |   yes    |   yes    |   yes    |   yes    |   yes    |
| isalnum()     |          |   yes    |   yes    |   yes    |   yes    |
| isnumeric()   |          |          |   yes    |   yes    |   yes    |
| isdigit()     |          |          |          |   yes    |   yes    |
| isdecimal()   |          |          |          |          |   yes    |
+---------------+----------+----------+----------+----------+----------+
</pre></table></code></div></div><ul><li><strong>Also: <code class="language-plaintext highlighter-rouge">'isspace()'</code> checks for <code class="language-plaintext highlighter-rouge">'[ \t\n\r\f\v…]'</code>.</strong></ul><h2 id="regex">Regex</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">re</span>
<span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Substitutes all occurrences with 'new'.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>            <span class="c1"># Returns all occurrences as strings.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Use brackets in regex to include the matches.
</span><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>             <span class="c1"># Searches for first occurrence of the pattern.
</span><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>              <span class="c1"># Searches only at the beginning of the text.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">finditer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>           <span class="c1"># Returns all occurrences as match objects.
</span></pre></table></code></div></div><ul><li><strong>Search() and match() return None if they can’t find a match.</strong><li><strong>Argument <code class="language-plaintext highlighter-rouge">'flags=re.IGNORECASE'</code> can be used with all functions.</strong><li><strong>Argument <code class="language-plaintext highlighter-rouge">'flags=re.MULTILINE'</code> makes <code class="language-plaintext highlighter-rouge">'^'</code> and <code class="language-plaintext highlighter-rouge">'$'</code> match the start/end of each line.</strong><li><strong>Argument <code class="language-plaintext highlighter-rouge">'flags=re.DOTALL'</code> makes dot also accept the <code class="language-plaintext highlighter-rouge">'\n'</code>.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">r'\1'</code> or <code class="language-plaintext highlighter-rouge">'\\1'</code> for backreference.</strong><li><strong>Add <code class="language-plaintext highlighter-rouge">'?'</code> after an operator to make it non-greedy.</strong></ul><h3 id="match-object">Match Object</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span><span class="p">.</span><span class="n">group</span><span class="p">()</span>                      <span class="c1"># Returns the whole match. Also group(0).
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                     <span class="c1"># Returns part in the first bracket.
</span><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span><span class="p">.</span><span class="n">groups</span><span class="p">()</span>                     <span class="c1"># Returns all bracketed parts.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>                      <span class="c1"># Returns start index of the match.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span><span class="p">.</span><span class="n">end</span><span class="p">()</span>                        <span class="c1"># Returns exclusive end index of the match.
</span></pre></table></code></div></div><h3 id="special-sequences">Special Sequences</h3><ul><li><strong>By default, decimal characters, alphanumerics and whitespaces from all alphabets are matched unless <code class="language-plaintext highlighter-rouge">'flags=re.ASCII'</code> argument is used.</strong><li><strong>As shown below, it restricts special sequence matches to <code class="language-plaintext highlighter-rouge">'[\x00-\x7f]'</code> and prevents <code class="language-plaintext highlighter-rouge">'\s'</code> from accepting <code class="language-plaintext highlighter-rouge">'[\x1c\x1d\x1e\x1f]'</code>.</strong><li><strong>Use a capital letter for negation.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="s">'\d'</span> <span class="o">==</span> <span class="s">'[0-9]'</span>                                <span class="c1"># Matches decimal characters.
</span><span class="s">'\w'</span> <span class="o">==</span> <span class="s">'[a-zA-Z0-9_]'</span>                         <span class="c1"># Matches alphanumerics and underscore.
</span><span class="s">'\s'</span> <span class="o">==</span> <span class="s">'[ </span><span class="se">\t\n\r\f\v</span><span class="s">]'</span>                        <span class="c1"># Matches whitespaces.
</span></pre></table></code></div></div></ul><h2 id="format">Format</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="o">&lt;</span><span class="n">el_2</span><span class="o">&gt;</span><span class="si">}</span><span class="s">'</span>
<span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="s">'{}, {}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_2</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="attributes">Attributes</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'Person'</span><span class="p">,</span> <span class="s">'name height'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">'Jean-Luc'</span><span class="p">,</span> <span class="mi">187</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">person</span><span class="p">.</span><span class="n">height</span><span class="si">}</span><span class="s">'</span>
<span class="s">'187'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s">'{p.height}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">person</span><span class="p">)</span>
<span class="s">'187'</span>
</pre></table></code></div></div><h3 id="general-options">General Options</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">}</span>                                     <span class="c1"># '&lt;el&gt;      '
</span><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">^</span><span class="mi">10</span><span class="p">}</span>                                     <span class="c1"># '   &lt;el&gt;   '
</span><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">}</span>                                     <span class="c1"># '      &lt;el&gt;'
</span><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:.</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">}</span>                                    <span class="c1"># '&lt;el&gt;......'
</span><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>                                       <span class="c1"># '&lt;el&gt;'
</span></pre></table></code></div></div><h3 id="strings">Strings</h3><p><strong><code class="language-plaintext highlighter-rouge">'!r'</code> calls object’s <a href="#class">repr()</a> method, instead of <a href="#class">str()</a>, to get a string.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="s">'abcde'</span><span class="err">!</span><span class="n">r</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                                 <span class="c1"># "'abcde'   "
</span><span class="p">{</span><span class="s">'abcde'</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                                 <span class="c1"># 'abc       '
</span><span class="p">{</span><span class="s">'abcde'</span><span class="p">:.</span><span class="mi">3</span><span class="p">}</span>                                   <span class="c1"># 'abc'
</span></pre></table></code></div></div><h3 id="numbers">Numbers</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="p">{</span> <span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="p">,}</span>                                  <span class="c1"># '   123,456'
</span><span class="p">{</span> <span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="n">_</span><span class="p">}</span>                                  <span class="c1"># '   123_456'
</span><span class="p">{</span> <span class="mi">123456</span><span class="p">:</span><span class="o">+</span><span class="mi">10</span><span class="p">}</span>                                  <span class="c1"># '   +123456'
</span><span class="p">{</span><span class="o">-</span><span class="mi">123456</span><span class="p">:</span><span class="o">=</span><span class="mi">10</span><span class="p">}</span>                                  <span class="c1"># '-   123456'
</span><span class="p">{</span> <span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                                    <span class="c1"># ' 123456'
</span><span class="p">{</span><span class="o">-</span><span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                                    <span class="c1"># '-123456'
</span></pre></table></code></div></div><h3 id="floats">Floats</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                                 <span class="c1"># '      1.23'
</span><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">f</span><span class="p">}</span>                                <span class="c1"># '     1.235'
</span><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">e</span><span class="p">}</span>                                <span class="c1"># ' 1.235e+00'
</span><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="o">%</span><span class="p">}</span>                                <span class="c1"># '  123.456%'
</span></pre></table></code></div></div><h4 id="comparison-of-presentation-types">Comparison of presentation types:</h4><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>+--------------+----------------+----------------+----------------+----------------+
|              |    {&lt;float&gt;}   |   {&lt;float&gt;:f}  |   {&lt;float&gt;:e}  |   {&lt;float&gt;:%}  |
+--------------+----------------+----------------+----------------+----------------+
|  0.000056789 |   '5.6789e-05' |    '0.000057'  | '5.678900e-05' |    '0.005679%' |
|  0.00056789  |   '0.00056789' |    '0.000568'  | '5.678900e-04' |    '0.056789%' |
|  0.0056789   |   '0.0056789'  |    '0.005679'  | '5.678900e-03' |    '0.567890%' |
|  0.056789    |   '0.056789'   |    '0.056789'  | '5.678900e-02' |    '5.678900%' |
|  0.56789     |   '0.56789'    |    '0.567890'  | '5.678900e-01' |   '56.789000%' |
|  5.6789      |   '5.6789'     |    '5.678900'  | '5.678900e+00' |  '567.890000%' |
| 56.789       |  '56.789'      |   '56.789000'  | '5.678900e+01' | '5678.900000%' |
+--------------+----------------+----------------+----------------+----------------+
</pre></table></code></div></div><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>+--------------+----------------+----------------+----------------+----------------+
|              |  {&lt;float&gt;:.2}  |  {&lt;float&gt;:.2f} |  {&lt;float&gt;:.2e} |  {&lt;float&gt;:.2%} |
+--------------+----------------+----------------+----------------+----------------+
|  0.000056789 |    '5.7e-05'   |      '0.00'    |   '5.68e-05'   |      '0.01%'   |
|  0.00056789  |    '0.00057'   |      '0.00'    |   '5.68e-04'   |      '0.06%'   |
|  0.0056789   |    '0.0057'    |      '0.01'    |   '5.68e-03'   |      '0.57%'   |
|  0.056789    |    '0.057'     |      '0.06'    |   '5.68e-02'   |      '5.68%'   |
|  0.56789     |    '0.57'      |      '0.57'    |   '5.68e-01'   |     '56.79%'   |
|  5.6789      |    '5.7'       |      '5.68'    |   '5.68e+00'   |    '567.89%'   |
| 56.789       |    '5.7e+01'   |     '56.79'    |   '5.68e+01'   |   '5678.90%'   |
+--------------+----------------+----------------+----------------+----------------+
</pre></table></code></div></div><ul><li><strong>When both rounding up and rounding down are possible, the one that returns result with even last digit is chosen. That makes <code class="language-plaintext highlighter-rouge">'{6.5:.0f}'</code> a <code class="language-plaintext highlighter-rouge">'6'</code> and <code class="language-plaintext highlighter-rouge">'{7.5:.0f}'</code> an <code class="language-plaintext highlighter-rouge">'8'</code>.</strong></ul><h3 id="ints">Ints</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">c</span><span class="p">}</span>                                   <span class="c1"># 'Z'
</span><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">b</span><span class="p">}</span>                                   <span class="c1"># '1011010'
</span><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">X</span><span class="p">}</span>                                   <span class="c1"># '5A'
</span></pre></table></code></div></div><h2 id="numbers-1">Numbers</h2><h3 id="types">Types</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Or: math.floor(&lt;float&gt;)
</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Or: &lt;real&gt;e±&lt;int&gt;
</span><span class="o">&lt;</span><span class="nb">complex</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">imag</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># Or: &lt;real&gt; ± &lt;real&gt;j
</span><span class="o">&lt;</span><span class="n">Fraction</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fractions</span><span class="p">.</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>    <span class="c1"># Or: Fraction(numerator=0, denominator=1)
</span><span class="o">&lt;</span><span class="n">Decimal</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">decimal</span><span class="p">.</span><span class="n">Decimal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Or: Decimal((sign, digits, exponent))
</span></pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">'int(&lt;str&gt;)'</code> and <code class="language-plaintext highlighter-rouge">'float(&lt;str&gt;)'</code> raise ValueError on malformed strings.</strong><li><strong>Decimal numbers can be represented exactly, unlike floats where <code class="language-plaintext highlighter-rouge">'1.1 + 2.2 != 3.3'</code>.</strong><li><strong>Precision of decimal operations is set with: <code class="language-plaintext highlighter-rouge">'decimal.getcontext().prec = &lt;int&gt;'</code>.</strong></ul><h3 id="basic-functions">Basic Functions</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;num&gt; ** &lt;num&gt;
</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># &lt;float&gt; = abs(&lt;complex&gt;)
</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="err">±</span><span class="n">ndigits</span><span class="p">])</span>        <span class="c1"># `round(126, -1) == 130`
</span></pre></table></code></div></div><h3 id="math">Math</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">e</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">isinf</span><span class="p">,</span> <span class="n">isnan</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">acos</span><span class="p">,</span> <span class="n">asin</span><span class="p">,</span> <span class="n">atan</span><span class="p">,</span> <span class="n">degrees</span><span class="p">,</span> <span class="n">radians</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">log10</span><span class="p">,</span> <span class="n">log2</span>
</pre></table></code></div></div><h3 id="statistics">Statistics</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">statistics</span> <span class="kn">import</span> <span class="n">mean</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">variance</span><span class="p">,</span> <span class="n">stdev</span><span class="p">,</span> <span class="n">pvariance</span><span class="p">,</span> <span class="n">pstdev</span>
</pre></table></code></div></div><h3 id="random">Random</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">randint</span><span class="p">,</span> <span class="n">choice</span><span class="p">,</span> <span class="n">shuffle</span><span class="p">,</span> <span class="n">gauss</span><span class="p">,</span> <span class="n">seed</span>

<span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>                       <span class="c1"># A float inside [0, 1).
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_inc</span><span class="p">)</span>      <span class="c1"># An int inside [from_inc, to_inc].
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">choice</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Keeps the list intact.
</span></pre></table></code></div></div><h3 id="bin-hex">Bin, Hex</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="err">±</span><span class="mi">0</span><span class="n">b</span><span class="o">&lt;</span><span class="nb">bin</span><span class="o">&gt;</span>                         <span class="c1"># Or: ±0x&lt;hex&gt;
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s">'±&lt;bin&gt;'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                 <span class="c1"># Or: int('±&lt;hex&gt;', 16)
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s">'±0b&lt;bin&gt;'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>               <span class="c1"># Or: int('±0x&lt;hex&gt;', 0)
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Returns '[-]0b&lt;bin&gt;'.
</span></pre></table></code></div></div><h3 id="bitwise-operators">Bitwise Operators</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                    <span class="c1"># And
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                    <span class="c1"># Or
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">^</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                    <span class="c1"># Xor (0 if both bits equal)
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&lt;&lt;</span> <span class="n">n_bits</span>                  <span class="c1"># Shift left (&gt;&gt; for right)
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">~&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                           <span class="c1"># Not (also: -&lt;int&gt; - 1)
</span></pre></table></code></div></div><h2 id="combinatorics">Combinatorics</h2><ul><li><strong>Every function returns an iterator.</strong><li><strong>If you want to print the iterator, you need to pass it to the list() function first!</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">product</span><span class="p">,</span> <span class="n">combinations</span><span class="p">,</span> <span class="n">combinations_with_replacement</span><span class="p">,</span> <span class="n">permutations</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">product</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">...,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">product</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span> <span class="s">'abc'</span><span class="p">)</span>                    <span class="c1">#   a  b  c
</span><span class="p">[(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>         <span class="c1"># a x  x  x
</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>         <span class="c1"># b x  x  x
</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)]</span>         <span class="c1"># c x  x  x
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">combinations</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1">#   a  b  c
</span><span class="p">[(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>                     <span class="c1"># a .  x  x
</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)]</span>                                 <span class="c1"># b .  .  x
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">combinations_with_replacement</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1">#   a  b  c
</span><span class="p">[(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>         <span class="c1"># a x  x  x
</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>                     <span class="c1"># b .  x  x
</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">)]</span>                                 <span class="c1"># c .  .  x
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">permutations</span><span class="p">(</span><span class="s">'abc'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1">#   a  b  c
</span><span class="p">[(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>                     <span class="c1"># a .  x  x
</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>                     <span class="c1"># b x  .  x
</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">),</span> <span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">)]</span>                     <span class="c1"># c x  x  .
</span></pre></table></code></div></div><h2 id="datetime">Datetime</h2><ul><li><strong>Module ‘datetime’ provides ‘date’ <code class="language-plaintext highlighter-rouge">&lt;D&gt;</code>, ‘time’ <code class="language-plaintext highlighter-rouge">&lt;T&gt;</code>, ‘datetime’ <code class="language-plaintext highlighter-rouge">&lt;DT&gt;</code> and ‘timedelta’ <code class="language-plaintext highlighter-rouge">&lt;TD&gt;</code> classes. All are immutable and hashable.</strong><li><strong>Time and datetime objects can be ‘aware’ <code class="language-plaintext highlighter-rouge">&lt;a&gt;</code>, meaning they have defined timezone, or ‘naive’ <code class="language-plaintext highlighter-rouge">&lt;n&gt;</code>, meaning they don’t.</strong><li><strong>If object is naive, it is presumed to be in the system’s timezone.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">dateutil.tz</span> <span class="kn">import</span> <span class="n">UTC</span><span class="p">,</span> <span class="n">tzlocal</span><span class="p">,</span> <span class="n">gettz</span><span class="p">,</span> <span class="n">datetime_exists</span><span class="p">,</span> <span class="n">resolve_imaginary</span>
</pre></table></code></div></div><h3 id="constructors">Constructors</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">D</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fold</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="p">...)</span>
<span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">microseconds</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">milliseconds</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">minutes</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">weeks</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Use <code class="language-plaintext highlighter-rouge">'&lt;D/DT&gt;.weekday()'</code> to get the day of the week (Mon == 0).</strong><li><strong><code class="language-plaintext highlighter-rouge">'fold=1'</code> means the second pass in case of time jumping back for one hour.</strong><li><strong><code class="language-plaintext highlighter-rouge">'&lt;DTa&gt; = resolve_imaginary(&lt;DTa&gt;)'</code> fixes DTs that fall into the missing hour.</strong></ul><h3 id="now">Now</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="p">.</span><span class="n">today</span><span class="p">()</span>                     <span class="c1"># Current local date or naive datetime.
</span><span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="p">.</span><span class="n">utcnow</span><span class="p">()</span>                      <span class="c1"># Naive datetime from current UTC time.
</span><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="p">.</span><span class="n">now</span><span class="p">(</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Aware datetime from current tz time.
</span></pre></table></code></div></div><ul><li><strong>To extract time use <code class="language-plaintext highlighter-rouge">'&lt;DTn&gt;.time()'</code>, <code class="language-plaintext highlighter-rouge">'&lt;DTa&gt;.time()'</code> or <code class="language-plaintext highlighter-rouge">'&lt;DTa&gt;.timetz()'</code>.</strong></ul><h3 id="timezone">Timezone</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">UTC</span>                              <span class="c1"># UTC timezone. London without DST.
</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">tzlocal</span><span class="p">()</span>                        <span class="c1"># Local timezone. Also gettz().
</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">gettz</span><span class="p">(</span><span class="s">'&lt;Continent&gt;/&lt;City&gt;'</span><span class="p">)</span>      <span class="c1"># 'Continent/City_Name' timezone or None.
</span><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span><span class="p">.</span><span class="n">astimezone</span><span class="p">(</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Datetime, converted to the passed timezone.
</span><span class="o">&lt;</span><span class="n">Ta</span><span class="o">/</span><span class="n">DTa</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Unconverted object with a new timezone.
</span></pre></table></code></div></div><h3 id="encode">Encode</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="p">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="s">'&lt;iso&gt;'</span><span class="p">)</span>    <span class="c1"># Object from ISO string. Raises ValueError.
</span><span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">DT</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'&lt;format&gt;'</span><span class="p">)</span>   <span class="c1"># Datetime from str, according to format.
</span><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="p">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># D/DTn from days since the Gregorian NYE 1.
</span><span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="p">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Local time DTn from seconds since the Epoch.
</span><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="p">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">tz</span><span class="p">.</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Aware datetime from seconds since the Epoch.
</span></pre></table></code></div></div><ul><li><strong>ISO strings come in following forms: <code class="language-plaintext highlighter-rouge">'YYYY-MM-DD'</code>, <code class="language-plaintext highlighter-rouge">'HH:MM:SS.ffffff[±&lt;offset&gt;]'</code>, or both separated by an arbitrary character. Offset is formatted as: <code class="language-plaintext highlighter-rouge">'HH:MM'</code>.</strong><li><strong>Epoch on Unix systems is: <code class="language-plaintext highlighter-rouge">'1970-01-01 00:00 UTC'</code>, <code class="language-plaintext highlighter-rouge">'1970-01-01 01:00 CET'</code>, …</strong></ul><h3 id="decode">Decode</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span><span class="p">.</span><span class="n">isoformat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s">'T'</span><span class="p">)</span>      <span class="c1"># Also timespec='auto/hours/minutes/seconds'.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'&lt;format&gt;'</span><span class="p">)</span>    <span class="c1"># Custom string representation.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span><span class="p">.</span><span class="n">toordinal</span><span class="p">()</span>               <span class="c1"># Days since Gregorian NYE 1, ignoring time and tz.
</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from DTn in local tz.
</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span><span class="p">.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from DTa.
</span></pre></table></code></div></div><h3 id="format-1">Format</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">'2015-05-14 23:39:00.00 +0200'</span><span class="p">,</span> <span class="s">'%Y-%m-%d %H:%M:%S.%f %z'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%A, %dth of %B '%y, %I:%M%p %Z"</span><span class="p">)</span>
<span class="s">"Thursday, 14th of May '15, 11:39PM UTC+02:00"</span>
</pre></table></code></div></div><ul><li><strong>When parsing, <code class="language-plaintext highlighter-rouge">'%z'</code> also accepts <code class="language-plaintext highlighter-rouge">'±HH:MM'</code>.</strong><li><strong>For abbreviated weekday and month use <code class="language-plaintext highlighter-rouge">'%a'</code> and <code class="language-plaintext highlighter-rouge">'%b'</code>.</strong></ul><h3 id="arithmetics">Arithmetics</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>   <span class="err">±</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>                  <span class="c1"># Returned datetime can fall into missing hour.
</span><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">-</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>               <span class="c1"># Returns the difference, ignoring time jumps.
</span><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">-</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>                 <span class="c1"># Ignores time jumps if they share tzinfo object.
</span><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">DT_UTC</span><span class="o">&gt;</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">DT_UTC</span><span class="o">&gt;</span>              <span class="c1"># Convert DTs to UTC to get the actual delta.
</span></pre></table></code></div></div><h2 id="arguments">Arguments</h2><h3 id="inside-function-call">Inside Function Call</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># f(0, 0)
</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># f(x=0, y=0)
</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># f(0, y=0)
</span></pre></table></code></div></div><h3 id="inside-function-definition">Inside Function Definition</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">):</span>                      <span class="c1"># def f(x, y):
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span>                         <span class="c1"># def f(x=0, y=0):
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span>      <span class="c1"># def f(x, y=0):
</span></pre></table></code></div></div><h2 id="splat-operator">Splat Operator</h2><h3 id="inside-function-call-1">Inside Function Call</h3><p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">args</span>   <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'z'</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="is-the-same-as">Is the same as:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="inside-function-definition-1">Inside Function Definition</h3><p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">6</span>
</pre></table></code></div></div><h4 id="legal-argument-combinations">Legal argument combinations:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>                <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>             <span class="c1"># f(x=1, y=2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>             <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>             <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>                  <span class="c1"># f(1, 2, 3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>               <span class="c1"># f(1, 2, 3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>               <span class="c1"># f(1, 2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>            <span class="c1"># f(1, 2, z=3)
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>               <span class="c1"># f(x=1, y=2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>            <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>         <span class="c1"># f(x=1, y=2, z=3)
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>        <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>     <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>     <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)
</span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)
</span></pre></table></code></div></div><h3 id="other-uses">Other Uses</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">*&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...]]</span>
<span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="o">*&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...]}</span>
<span class="o">&lt;</span><span class="n">tup</span><span class="p">.</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">*&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[...])</span>
<span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span><span class="o">**&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...]}</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">head</span><span class="p">,</span> <span class="o">*</span><span class="n">body</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span>
</pre></table></code></div></div><h2 id="inline">Inline</h2><h3 id="lambda">Lambda</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>
</pre></table></code></div></div><h3 id="comprehensions">Comprehensions</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>                         <span class="c1"># [1, 2, ..., 10]
</span><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">}</span>                  <span class="c1"># {6, 7, 8, 9}
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>                         <span class="c1"># (5, 6, ..., 14)
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>                      <span class="c1"># {0: 0, 1: 2, ..., 9: 18}
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="n">r</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="s">'abc'</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="s">'abc'</span><span class="p">]</span>
<span class="p">[</span><span class="s">'aa'</span><span class="p">,</span> <span class="s">'ab'</span><span class="p">,</span> <span class="s">'ac'</span><span class="p">,</span> <span class="p">...,</span> <span class="s">'cc'</span><span class="p">]</span>
</pre></table></code></div></div><h3 id="map-filter-reduce">Map, Filter, Reduce</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>                  <span class="c1"># (1, 2, ..., 10)
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>               <span class="c1"># (6, 7, 8, 9)
</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">out</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>        <span class="c1"># 45
</span></pre></table></code></div></div><ul><li><strong>Reduce must be imported from functools module.</strong></ul><h3 id="any-all">Any, All</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                                <span class="c1"># False if empty.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># True if empty.
</span></pre></table></code></div></div><h3 id="conditional-expression">Conditional Expression</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">exp_if_true</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="o">&lt;</span><span class="n">exp_if_false</span><span class="o">&gt;</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="k">else</span> <span class="s">'zero'</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="p">[</span><span class="s">'zero'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></table></code></div></div><h3 id="namedtuple-enum-dataclass">Namedtuple, Enum, Dataclass</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="n">Point</span>     <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s">'Point'</span><span class="p">,</span> <span class="s">'x y'</span><span class="p">)</span>
<span class="n">point</span>     <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="n">Direction</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'Direction'</span><span class="p">,</span> <span class="s">'n e s w'</span><span class="p">)</span>
<span class="n">direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="p">.</span><span class="n">n</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<span class="n">Creature</span>  <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s">'Creature'</span><span class="p">,</span> <span class="p">[</span><span class="s">'loc'</span><span class="p">,</span> <span class="s">'dir'</span><span class="p">])</span>
<span class="n">creature</span>  <span class="o">=</span> <span class="n">Creature</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Direction</span><span class="p">.</span><span class="n">n</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="closure">Closure</h2><p><strong>We have a closure in Python when:</strong></p><ul><li><strong>A nested function references a value of its enclosing function and then</strong><li><strong>the enclosing function returns the nested function.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">get_multiplier</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">get_multiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="mi">30</span>
</pre></table></code></div></div><ul><li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong><li><strong>To dynamically access function’s first free variable use <code class="language-plaintext highlighter-rouge">'&lt;function&gt;.__closure__[0].cell_contents'</code>.</strong></ul><h3 id="partial">Partial</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...])</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">operator</span> <span class="k">as</span> <span class="n">op</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">mul</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="mi">30</span>
</pre></table></code></div></div><ul><li><strong>Partial is also useful in cases when function needs to be passed as an argument, because it enables us to set its arguments beforehand.</strong><li><strong>A few examples being: <code class="language-plaintext highlighter-rouge">'defaultdict(&lt;function&gt;)'</code>, <code class="language-plaintext highlighter-rouge">'iter(&lt;function&gt;, to_exclusive)'</code> and dataclass’s <code class="language-plaintext highlighter-rouge">'field(default_factory=&lt;function&gt;)'</code>.</strong></ul><h3 id="non-local">Non-Local</h3><p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a ‘global’ or a ‘nonlocal’.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">get_counter</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">get_counter</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="decorator">Decorator</h2><p><strong>A decorator takes a function, adds some functionality and returns it.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">@</span><span class="n">decorator_name</span>
<span class="k">def</span> <span class="nf">function_that_gets_passed_to_decorator</span><span class="p">():</span>
    <span class="p">...</span>
</pre></table></code></div></div><h3 id="debugger-example">Debugger Example</h3><p><strong>Decorator that prints function’s name every time it gets called.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

<span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="o">@</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="o">@</span><span class="n">debug</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></table></code></div></div><ul><li><strong>Wraps is a helper decorator that copies the metadata of the passed function (func) to the function it is wrapping (out).</strong><li><strong>Without it <code class="language-plaintext highlighter-rouge">'add.__name__'</code> would return <code class="language-plaintext highlighter-rouge">'out'</code>.</strong></ul><h3 id="lru-cache">LRU Cache</h3><p><strong>Decorator that caches function’s return values. All function’s arguments must be hashable.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>

<span class="o">@</span><span class="n">lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>CPython interpreter limits recursion depth to 1000 by default. To increase it use <code class="language-plaintext highlighter-rouge">'sys.setrecursionlimit(&lt;depth&gt;)'</code>.</strong></ul><h3 id="parametrized-decorator">Parametrized Decorator</h3><p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

<span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">@</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__name__</span><span class="p">,</span> <span class="n">result</span> <span class="k">if</span> <span class="n">print_result</span> <span class="k">else</span> <span class="s">''</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">out</span>
    <span class="k">return</span> <span class="n">decorator</span>

<span class="o">@</span><span class="n">debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></table></code></div></div><h2 id="class">Class</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">__class__</span><span class="p">.</span><span class="n">__name__</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s">(</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="err">!</span><span class="n">r</span><span class="si">}</span><span class="s">)'</span>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>

    <span class="o">@</span><span class="nb">classmethod</span>
    <span class="k">def</span> <span class="nf">get_class_name</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cls</span><span class="p">.</span><span class="n">__name__</span>
</pre></table></code></div></div><ul><li><strong>Return value of repr() should be unambiguous and of str() readable.</strong><li><strong>If only repr() is defined, it will also be used for str().</strong></ul><h4 id="str-use-cases">Str() use cases:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
<span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">loguru</span><span class="p">.</span><span class="n">logger</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">csv</span><span class="p">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">).</span><span class="n">writerow</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
</pre></table></code></div></div><h4 id="repr-use-cases">Repr() use cases:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="err">!</span><span class="n">r</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>
<span class="n">loguru</span><span class="p">.</span><span class="n">logger</span><span class="p">.</span><span class="n">exception</span><span class="p">()</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="p">.</span><span class="n">make_dataclass</span><span class="p">(</span><span class="s">'Z'</span><span class="p">,</span> <span class="p">[</span><span class="s">'a'</span><span class="p">]);</span> <span class="k">print</span><span class="p">(</span><span class="n">Z</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">))</span>
</pre></table></code></div></div><h3 id="constructor-overloading">Constructor Overloading</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
</pre></table></code></div></div><h3 id="inheritance">Inheritance</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">age</span>  <span class="o">=</span> <span class="n">age</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">(</span><span class="n">Person</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">staff_num</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">().</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">staff_num</span> <span class="o">=</span> <span class="n">staff_num</span>
</pre></table></code></div></div><h3 id="multiple-inheritance">Multiple Inheritance</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
<span class="k">class</span> <span class="nc">B</span><span class="p">:</span> <span class="k">pass</span>
<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span> <span class="k">pass</span>
</pre></table></code></div></div><p><strong>MRO determines the order in which parent classes are traversed when searching for a method:</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">C</span><span class="p">.</span><span class="n">mro</span><span class="p">()</span>
<span class="p">[</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">C</span><span class="s">'&gt;, &lt;class '</span><span class="n">A</span><span class="s">'&gt;, &lt;class '</span><span class="sa">B</span><span class="s">'&gt;, &lt;class '</span><span class="nb">object</span><span class="s">'&gt;]
</span></pre></table></code></div></div><h3 id="property">Property</h3><p><strong>Pythonic way of implementing getters and setters.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_a</span>

    <span class="o">@</span><span class="n">a</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_a</span> <span class="o">=</span> <span class="n">value</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">el</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">el</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">123</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">el</span><span class="p">.</span><span class="n">a</span>
<span class="mi">123</span>
</pre></table></code></div></div><h3 id="dataclass">Dataclass</h3><p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>

<span class="o">@</span><span class="n">dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">class</span> <span class="err">&lt;</span><span class="nc">class_name</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">attr_name_1</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">attr_name_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">attr_name_3</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Objects can be made sortable with <code class="language-plaintext highlighter-rouge">'order=True'</code> and immutable with <code class="language-plaintext highlighter-rouge">'frozen=True'</code>.</strong><li><strong>For object to be hashable, all attributes must be hashable and frozen must be True.</strong><li><strong>Function field() is needed because <code class="language-plaintext highlighter-rouge">'&lt;attr_name&gt;: list = []'</code> would make a list that is shared among all instances.</strong><li><strong>Default_factory can be any <a href="#callable">callable</a>.</strong></ul><h4 id="inline-1">Inline:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s">'&lt;class_name&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_attribute_names</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s">'&lt;class_name&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_tuples</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="s">'&lt;attr_name&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span><span class="p">])</span>
</pre></table></code></div></div><h3 id="slots">Slots</h3><p><strong>Mechanism that restricts objects to attributes listed in ‘slots’ and significantly reduces their memory footprint.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyClassWithSlots</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s">'a'</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></table></code></div></div><h3 id="copy">Copy</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span><span class="p">,</span> <span class="n">deepcopy</span>

<span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="duck-types">Duck Types</h2><p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p><h3 id="comparable">Comparable</h3><ul><li><strong>If eq() method is not overridden, it returns <code class="language-plaintext highlighter-rouge">'id(self) == id(other)'</code>, which is the same as <code class="language-plaintext highlighter-rouge">'self is other'</code>.</strong><li><strong>That means all objects compare not equal by default.</strong><li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyComparable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">a</span>
        <span class="k">return</span> <span class="nb">NotImplemented</span>
</pre></table></code></div></div><h3 id="hashable">Hashable</h3><ul><li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong><li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns <code class="language-plaintext highlighter-rouge">'id(self)'</code> will not do.</strong><li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyHashable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_a</span> <span class="o">=</span> <span class="n">a</span>
    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_a</span>
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">a</span>
        <span class="k">return</span> <span class="nb">NotImplemented</span>
    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="sortable">Sortable</h3><ul><li><strong>With total_ordering decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>

<span class="o">@</span><span class="n">total_ordering</span>
<span class="k">class</span> <span class="nc">MySortable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">a</span>
        <span class="k">return</span> <span class="nb">NotImplemented</span>
    <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">a</span>
        <span class="k">return</span> <span class="nb">NotImplemented</span>
</pre></table></code></div></div><h3 id="iterator-1">Iterator</h3><ul><li><strong>Any object that has methods next() and iter() is an iterator.</strong><li><strong>Next() should return next item or raise StopIteration.</strong><li><strong>Iter() should return ‘self’.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">i</span>
  <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="bp">self</span>
</pre></table></code></div></div></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="python-has-many-different-iterator-objects">Python has many different iterator objects:</h4><ul><li><strong>Sequence iterators returned by the <a href="#iterator">iter()</a> function, such as list_iterator and set_iterator.</strong><li><strong>Objects returned by the <a href="#itertools">itertools</a> module, such as count, repeat and cycle.</strong><li><strong>Generators returned by the <a href="#generator">generator functions</a> and <a href="#comprehensions">generator expressions</a>.</strong><li><strong>File objects returned by the <a href="#open">open()</a> function, etc.</strong></ul><h3 id="callable">Callable</h3><ul><li><strong>All functions and classes have a call() method, hence are callable.</strong><li><strong>When this cheatsheet uses <code class="language-plaintext highlighter-rouge">'&lt;function&gt;'</code> as an argument, it actually means <code class="language-plaintext highlighter-rouge">'&lt;callable&gt;'</code>.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">i</span>
</pre></table></code></div></div></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="context-manager">Context Manager</h3><ul><li><strong>Enter() should lock the resources and optionally return an object.</strong><li><strong>Exit() should release the resources.</strong><li><strong>Any exception that happens inside the with block is passed to the exit() method.</strong><li><strong>If it wishes to suppress the exception it must return a true value.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyOpen</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
  <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">filename</span><span class="p">)</span>
      <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="nb">file</span>
  <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="nb">file</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</pre></table></code></div></div></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'test.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
<span class="p">...</span>     <span class="nb">file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'Hello World!'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">MyOpen</span><span class="p">(</span><span class="s">'test.txt'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
<span class="p">...</span>     <span class="k">print</span><span class="p">(</span><span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">Hello</span> <span class="n">World</span><span class="err">!</span>
</pre></table></code></div></div><h2 id="iterable-duck-types">Iterable Duck Types</h2><h3 id="iterable">Iterable</h3><ul><li><strong>Only required method is iter(). It should return an iterator of object’s items.</strong><li><strong>Contains() automatically works on any object that has iter() defined.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyIterable</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
  <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span>
</pre></table></code></div></div></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">MyIterable</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">el</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">obj</span>
<span class="bp">True</span>
</pre></table></code></div></div><h3 id="collection">Collection</h3><ul><li><strong>Only required methods are iter() and len().</strong><li><strong>This cheatsheet actually means <code class="language-plaintext highlighter-rouge">'&lt;iterable&gt;'</code> when it uses <code class="language-plaintext highlighter-rouge">'&lt;collection&gt;'</code>.</strong><li><strong>I chose not to use the name ‘iterable’ because it sounds scarier and more vague than ‘collection’.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyCollection</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
  <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span>
  <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
</pre></table></code></div></div></ul><h3 id="sequence">Sequence</h3><ul><li><strong>Only required methods are len() and getitem().</strong><li><strong>Getitem() should return an item at index or raise IndexError.</strong><li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong><li><strong>Reversed() automatically works on any object that has len() and getitem() defined.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MySequence</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
  <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span>
  <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
  <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
      <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">def</span> <span class="nf">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
</pre></table></code></div></div></ul><h3 id="abc-sequence">ABC Sequence</h3><ul><li><strong>It’s a richer interface than the basic sequence.</strong><li><strong>Extending it generates iter(), contains(), reversed(), index() and count().</strong><li><strong>Unlike <code class="language-plaintext highlighter-rouge">'abc.Iterable'</code> and <code class="language-plaintext highlighter-rouge">'abc.Collection'</code>, it is not a duck type. That is why <code class="language-plaintext highlighter-rouge">'issubclass(MySequence, abc.Sequence)'</code> would return False even if MySequence had all the methods defined.</strong> ```python from collections import abc</ul><p>class MyAbcSequence(abc.Sequence): def <strong>init</strong>(self, a): self.a = a def <strong>len</strong>(self): return len(self.a) def <strong>getitem</strong>(self, i): return self.a[i]</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>
#### Table of required and automatically available special methods:
```text
+------------+------------+------------+------------+--------------+
|            |  Iterable  | Collection |  Sequence  | abc.Sequence |
+------------+------------+------------+------------+--------------+
| iter()     |    REQ     |    REQ     |    Yes     |     Yes      |
| contains() |    Yes     |    Yes     |    Yes     |     Yes      |
| len()      |            |    REQ     |    REQ     |     REQ      |
| getitem()  |            |            |    REQ     |     REQ      |
| reversed() |            |            |    Yes     |     Yes      |
| index()    |            |            |            |     Yes      |
| count()    |            |            |            |     Yes      |
+------------+------------+------------+------------+--------------+
</pre></table></code></div></div><ul><li><strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong><li><strong>Names of their required methods are stored in <code class="language-plaintext highlighter-rouge">'&lt;abc&gt;.__abstractmethods__'</code>.</strong></ul><h2 id="enum">Enum</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>

<span class="k">class</span> <span class="err">&lt;</span><span class="nc">enum_name</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="o">&lt;</span><span class="n">member_name_1</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value_1</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">member_name_2</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value_2_a</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">value_2_b</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">member_name_3</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</pre></table></code></div></div><ul><li><strong>If there are no numeric values before auto(), it returns 1.</strong><li><strong>Otherwise it returns an increment of the last numeric value.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span>                 <span class="c1"># Returns a member.
</span><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">[</span><span class="s">'&lt;member_name&gt;'</span><span class="p">]</span>              <span class="c1"># Returns a member or raises KeyError.
</span><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Returns a member or raises ValueError.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span><span class="p">.</span><span class="n">name</span>                        <span class="c1"># Returns member's name.
</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span>                       <span class="c1"># Returns member's value.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">list_of_members</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">member_names</span>    <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">member_values</span>   <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">random_member</span>   <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">get_next_member</span><span class="p">(</span><span class="n">member</span><span class="p">):</span>
    <span class="n">members</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">member</span><span class="p">.</span><span class="n">__class__</span><span class="p">)</span>
    <span class="n">index</span>   <span class="o">=</span> <span class="p">(</span><span class="n">members</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">members</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">members</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</pre></table></code></div></div><h3 id="inline-2">Inline</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'Cutlery'</span><span class="p">,</span> <span class="s">'fork knife spoon'</span><span class="p">)</span>
<span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'Cutlery'</span><span class="p">,</span> <span class="p">[</span><span class="s">'fork'</span><span class="p">,</span> <span class="s">'knife'</span><span class="p">,</span> <span class="s">'spoon'</span><span class="p">])</span>
<span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'Cutlery'</span><span class="p">,</span> <span class="p">{</span><span class="s">'fork'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'knife'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'spoon'</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</pre></table></code></div></div><h4 id="user-defined-functions-cannot-be-values-so-they-must-be-wrapped">User-defined functions cannot be values, so they must be wrapped:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="n">LogicOp</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s">'LogicOp'</span><span class="p">,</span> <span class="p">{</span><span class="s">'AND'</span><span class="p">:</span> <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">and</span> <span class="n">r</span><span class="p">),</span>
                           <span class="s">'OR'</span> <span class="p">:</span> <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">or</span> <span class="n">r</span><span class="p">)})</span>
</pre></table></code></div></div><ul><li><strong>Another solution in this particular case is to use functions and_() and or_() from the module <a href="#operator">operator</a>.</strong></ul><h2 id="exceptions">Exceptions</h2><h3 id="basic-example">Basic Example</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
<span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
</pre></table></code></div></div><h3 id="complex-example">Complex Example</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code_1</span><span class="o">&gt;</span>
<span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_a</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code_2_a</span><span class="o">&gt;</span>
<span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_b</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code_2_b</span><span class="o">&gt;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code_2_c</span><span class="o">&gt;</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">code_3</span><span class="o">&gt;</span>
</pre></table></code></div></div><ul><li><strong>Code inside the <code class="language-plaintext highlighter-rouge">'else'</code> block will only be executed if <code class="language-plaintext highlighter-rouge">'try'</code> block had no exception.</strong><li><strong>Code inside the <code class="language-plaintext highlighter-rouge">'finally'</code> block will always be executed.</strong></ul><h3 id="catching-exceptions">Catching Exceptions</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span>
<span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span>
<span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[...]):</span>
<span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[...])</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span>
</pre></table></code></div></div><ul><li><strong>Also catches subclasses of the exception.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'traceback.print_exc()'</code> to print the error message to stderr.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'print(&lt;name&gt;)'</code> to print just the cause of the exception (its arguments).</strong></ul><h3 id="raising-exceptions">Raising Exceptions</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span>
<span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">()</span>
<span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...])</span>
</pre></table></code></div></div><h4 id="re-raising-caught-exception">Re-raising caught exception:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="p">...</span>
    <span class="k">raise</span>
</pre></table></code></div></div><h3 id="exception-object">Exception Object</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">arguments</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">args</span>
<span class="n">exc_type</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">__class__</span>
<span class="n">filename</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">__traceback__</span><span class="p">.</span><span class="n">tb_frame</span><span class="p">.</span><span class="n">f_code</span><span class="p">.</span><span class="n">co_filename</span>
<span class="n">func_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">__traceback__</span><span class="p">.</span><span class="n">tb_frame</span><span class="p">.</span><span class="n">f_code</span><span class="p">.</span><span class="n">co_name</span>
<span class="n">line</span>      <span class="o">=</span> <span class="n">linecache</span><span class="p">.</span><span class="n">getline</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">__traceback__</span><span class="p">.</span><span class="n">tb_lineno</span><span class="p">)</span>
<span class="n">error_msg</span> <span class="o">=</span> <span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="p">.</span><span class="n">format_exception</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="n">__traceback__</span><span class="p">))</span>
</pre></table></code></div></div><h3 id="built-in-exceptions">Built-in Exceptions</h3><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>BaseException
 +-- SystemExit                   # Raised by the sys.exit() function.
 +-- KeyboardInterrupt            # Raised when the user hits the interrupt key (ctrl-c).
 +-- Exception                    # User-defined exceptions should be derived from this class.
      +-- ArithmeticError         # Base class for arithmetic errors.
      |    +-- ZeroDivisionError  # Raised when dividing by zero.
      +-- AttributeError          # Raised when an attribute is missing.
      +-- EOFError                # Raised by input() when it hits end-of-file condition.
      +-- LookupError             # Raised when a look-up on a collection fails.
      |    +-- IndexError         # Raised when a sequence index is out of range.
      |    +-- KeyError           # Raised when a dictionary key or set element is not found.
      +-- NameError               # Raised when a variable name is not found.
      +-- OSError                 # Errors such as “file not found” or “disk full” (see Open).
      |    +-- FileNotFoundError  # When a file or directory is requested but doesn't exist.
      +-- RuntimeError            # Raised by errors that don't fall into other categories.
      |    +-- RecursionError     # Raised when the maximum recursion depth is exceeded.
      +-- StopIteration           # Raised by next() when run on an empty iterator.
      +-- TypeError               # Raised when an argument is of wrong type.
      +-- ValueError              # When an argument is of right type but inappropriate value.
           +-- UnicodeError       # Raised when encoding/decoding strings to/from bytes fails.
</pre></table></code></div></div><h4 id="collections-and-their-exceptions">Collections and their exceptions:</h4><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>+-----------+------------+------------+------------+
|           |    List    |    Set     |    Dict    |
+-----------+------------+------------+------------+
| getitem() | IndexError |            |  KeyError  |
| pop()     | IndexError |  KeyError  |  KeyError  |
| remove()  | ValueError |  KeyError  |            |
| index()   | ValueError |            |            |
+-----------+------------+------------+------------+
</pre></table></code></div></div><h4 id="useful-built-in-exceptions">Useful built-in exceptions:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">raise</span> <span class="nb">TypeError</span><span class="p">(</span><span class="s">'Argument is of wrong type!'</span><span class="p">)</span>
<span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Argument is of right type but inappropriate value!'</span><span class="p">)</span>
<span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'None of above!'</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="user-defined-exceptions">User-defined Exceptions</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyError</span><span class="p">(</span><span class="nb">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">MyInputError</span><span class="p">(</span><span class="n">MyError</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></table></code></div></div><h2 id="exit">Exit</h2><p><strong>Exits the interpreter by raising SystemExit exception.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>                        <span class="c1"># Exits with exit code 0 (success).
</span><span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Prints to stderr and exits with 1.
</span><span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Exits with passed exit code.
</span></pre></table></code></div></div><h2 id="print">Print</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...,</span> <span class="n">sep</span><span class="o">=</span><span class="s">' '</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Use <code class="language-plaintext highlighter-rouge">'file=sys.stderr'</code> for messages about errors.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'flush=True'</code> to forcibly flush the stream.</strong></ul><h3 id="pretty-print">Pretty Print</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="n">pprint</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">sort_dicts</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Levels deeper than ‘depth’ get replaced by ‘…’.</strong></ul><h2 id="input">Input</h2><p><strong>Reads a line from user input or pipe if present.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>Trailing newline gets stripped.</strong><li><strong>Prompt string is printed to the standard output before reading input.</strong><li><strong>Raises EOFError when user hits EOF (ctrl-d/z) or input stream gets exhausted.</strong></ul><h2 id="command-line-arguments">Command Line Arguments</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">scripts_path</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">arguments</span>    <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></table></code></div></div><h3 id="argument-parser">Argument Parser</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">FileType</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">p</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'-&lt;short_name&gt;'</span><span class="p">,</span> <span class="s">'--&lt;name&gt;'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">'store_true'</span><span class="p">)</span>  <span class="c1"># Flag
</span><span class="n">p</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'-&lt;short_name&gt;'</span><span class="p">,</span> <span class="s">'--&lt;name&gt;'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Option
</span><span class="n">p</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'&lt;name&gt;'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                    <span class="c1"># First argument
</span><span class="n">p</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'&lt;name&gt;'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s">'+'</span><span class="p">)</span>                  <span class="c1"># Remaining arguments
</span><span class="n">p</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'&lt;name&gt;'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s">'*'</span><span class="p">)</span>                  <span class="c1"># Optional arguments
</span><span class="n">args</span>  <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">parse_args</span><span class="p">()</span>                                            <span class="c1"># Exits on error.
</span><span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></table></code></div></div><ul><li><strong>Use <code class="language-plaintext highlighter-rouge">'help=&lt;str&gt;'</code> to set argument description.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'default=&lt;el&gt;'</code> to set the default value.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'type=FileType(&lt;mode&gt;)'</code> for files.</strong></ul><h2 id="open">Open</h2><p><strong>Opens the file and returns a corresponding file object.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">'encoding=None'</code> means that the default encoding is used, which is platform dependent. Best practice is to use <code class="language-plaintext highlighter-rouge">'encoding="utf-8"'</code> whenever possible.</strong><li><strong><code class="language-plaintext highlighter-rouge">'newline=None'</code> means all different end of line combinations are converted to ‘\n’ on read, while on write all ‘\n’ characters are converted to system’s default line separator.</strong><li><strong><code class="language-plaintext highlighter-rouge">'newline=""'</code> means no conversions take place, but input is still broken into chunks by readline() and readlines() on either ‘\n’, ‘\r’ or ‘\r\n’.</strong></ul><h3 id="modes">Modes</h3><ul><li><strong><code class="language-plaintext highlighter-rouge">'r'</code> - Read (default).</strong><li><strong><code class="language-plaintext highlighter-rouge">'w'</code> - Write (truncate).</strong><li><strong><code class="language-plaintext highlighter-rouge">'x'</code> - Write or fail if the file already exists.</strong><li><strong><code class="language-plaintext highlighter-rouge">'a'</code> - Append.</strong><li><strong><code class="language-plaintext highlighter-rouge">'w+'</code> - Read and write (truncate).</strong><li><strong><code class="language-plaintext highlighter-rouge">'r+'</code> - Read and write from the start.</strong><li><strong><code class="language-plaintext highlighter-rouge">'a+'</code> - Read and write from the end.</strong><li><strong><code class="language-plaintext highlighter-rouge">'t'</code> - Text mode (default).</strong><li><strong><code class="language-plaintext highlighter-rouge">'b'</code> - Binary mode.</strong></ul><h3 id="exceptions-1">Exceptions</h3><ul><li><strong><code class="language-plaintext highlighter-rouge">'FileNotFoundError'</code> can be raised when reading with <code class="language-plaintext highlighter-rouge">'r'</code> or <code class="language-plaintext highlighter-rouge">'r+'</code>.</strong><li><strong><code class="language-plaintext highlighter-rouge">'FileExistsError'</code> can be raised when writing with <code class="language-plaintext highlighter-rouge">'x'</code>.</strong><li><strong><code class="language-plaintext highlighter-rouge">'IsADirectoryError'</code> and <code class="language-plaintext highlighter-rouge">'PermissionError'</code> can be raised by any.</strong><li><strong><code class="language-plaintext highlighter-rouge">'OSError'</code> is the parent class of all listed exceptions.</strong></ul><h3 id="file-object">File Object</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                      <span class="c1"># Moves to the start of the file.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>                 <span class="c1"># Moves 'offset' chars/bytes from the start.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Moves to the end of the file.
</span><span class="o">&lt;</span><span class="n">bin_file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">seek</span><span class="p">(</span><span class="err">±</span><span class="n">offset</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">anchor</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Anchor: 0 start, 1 current position, 2 end.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Reads 'size' chars/bytes or until EOF.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">readline</span><span class="p">()</span>     <span class="c1"># Returns a line or empty string/bytes on EOF.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>    <span class="c1"># Returns a list of remaining lines.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Returns a line using buffer. Do not mix.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Writes a string or bytes object.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">writelines</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Writes a coll. of strings or bytes objects.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">flush</span><span class="p">()</span>                      <span class="c1"># Flushes write buffer.
</span></pre></table></code></div></div><ul><li><strong>Methods do not add or strip trailing newlines, even writelines().</strong></ul><h3 id="read-text-from-file">Read Text from File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">file</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></table></code></div></div><h3 id="write-text-to-file">Write Text to File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="nb">file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="paths">Paths</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">getcwd</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">listdir</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">getcwd</span><span class="p">()</span>                   <span class="c1"># Returns the current working directory.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...)</span>     <span class="c1"># Joins two or more pathname components.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Returns absolute path.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Returns final component of the path.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Returns path without the final component.
</span><span class="o">&lt;</span><span class="n">tup</span><span class="p">.</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Splits on last period of the final component.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">'.'</span><span class="p">)</span>          <span class="c1"># Returns filenames located at path.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="s">'&lt;pattern&gt;'</span><span class="p">)</span>          <span class="c1"># Returns paths matching the wildcard pattern.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Or: &lt;Path&gt;.exists()
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">isfile</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_file()
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_dir()
</span></pre></table></code></div></div><h3 id="direntry">DirEntry</h3><p><strong>Using scandir() instead of listdir() can significantly increase the performance of code that also needs file type information.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">scandir</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">scandir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">'.'</span><span class="p">)</span>          <span class="c1"># Returns DirEntry objects located at path.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;</span><span class="p">.</span><span class="n">path</span>            <span class="c1"># Returns whole path as a string.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;</span><span class="p">.</span><span class="n">name</span>            <span class="c1"># Returns final component as a string.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Opens the file and returns file object.
</span></pre></table></code></div></div><h3 id="path-object">Path Object</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="p">...])</span>       <span class="c1"># Accepts strings, Paths and DirEntry objects.
</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">/</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">/</span> <span class="p">...]</span>    <span class="c1"># One of the paths must be a Path object.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>                     <span class="c1"># Returns relative cwd. Also Path('.').
</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">cwd</span><span class="p">()</span>                 <span class="c1"># Returns absolute cwd. Also Path().resolve().
</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">home</span><span class="p">()</span>                <span class="c1"># Returns user's home directory.
</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">__file__</span><span class="p">).</span><span class="n">resolve</span><span class="p">()</span>   <span class="c1"># Returns script's path if cwd wasn't changed.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">parent</span>              <span class="c1"># Returns Path without final component.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">name</span>                <span class="c1"># Returns final component as a string.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">stem</span>                <span class="c1"># Returns final component without extension.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">suffix</span>              <span class="c1"># Returns final component's extension.
</span><span class="o">&lt;</span><span class="n">tup</span><span class="p">.</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">parts</span>               <span class="c1"># Returns all components as strings.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">iterdir</span><span class="p">()</span>           <span class="c1"># Returns dir contents as Path objects.
</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">.</span><span class="n">glob</span><span class="p">(</span><span class="s">'&lt;pattern&gt;'</span><span class="p">)</span>   <span class="c1"># Returns Paths matching the wildcard pattern.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Returns path as a string.
</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Opens the file and returns file object.
</span></pre></table></code></div></div><h2 id="os-commands">OS Commands</h2><h3 id="files-and-directories">Files and Directories</h3><ul><li><strong>Paths can be either strings, Paths or DirEntry objects.</strong><li><strong>Functions report OS related errors by raising either OSError or one of its <a href="#exceptions-1">subclasses</a>.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">shutil</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">os</span><span class="p">.</span><span class="n">chdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Changes the current working directory.
</span><span class="n">os</span><span class="p">.</span><span class="n">mkdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0o777</span><span class="p">)</span>        <span class="c1"># Creates a directory. Mode is in octal.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">shutil</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>               <span class="c1"># Copies the file. 'to' can exist or be a dir.
</span><span class="n">shutil</span><span class="p">.</span><span class="n">copytree</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>           <span class="c1"># Copies the directory. 'to' must not exist.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">os</span><span class="p">.</span><span class="n">rename</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                 <span class="c1"># Renames/moves the file or directory.
</span><span class="n">os</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                <span class="c1"># Same, but overwrites 'to' if it exists.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">os</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Deletes the file.
</span><span class="n">os</span><span class="p">.</span><span class="n">rmdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Deletes the empty directory.
</span><span class="n">shutil</span><span class="p">.</span><span class="n">rmtree</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Deletes the directory.
</span></pre></table></code></div></div><h3 id="shell-commands">Shell Commands</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">popen</span><span class="p">(</span><span class="s">'&lt;shell_command&gt;'</span><span class="p">).</span><span class="n">read</span><span class="p">()</span>
</pre></table></code></div></div><h4 id="sends-1--1-to-the-basic-calculator-and-captures-its-output">Sends ‘1 + 1’ to the basic calculator and captures its output:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">run</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">run</span><span class="p">(</span><span class="s">'bc'</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="s">'1 + 1</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s">'bc'</span><span class="p">,</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="s">'2</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">Sends test.in to the basic calculator running in standard mode and saves its output to test.out:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">shlex</span> <span class="kn">import</span> <span class="n">split</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="p">.</span><span class="n">popen</span><span class="p">(</span><span class="s">'echo 1 + 1 &gt; test.in'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">run</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="s">'bc -s'</span><span class="p">),</span> <span class="n">stdin</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">'test.in'</span><span class="p">),</span> <span class="n">stdout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">'test.out'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">))</span>
<span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s">'bc'</span><span class="p">,</span> <span class="s">'-s'</span><span class="p">],</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">open</span><span class="p">(</span><span class="s">'test.out'</span><span class="p">).</span><span class="n">read</span><span class="p">()</span>
<span class="s">'2</span><span class="se">\n</span><span class="s">'</span>
</pre></table></code></div></div><h2 id="json">JSON</h2><p><strong>Text file format for storing collections of strings and numbers.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">json</span>
<span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="read-object-from-json-file">Read Object from JSON File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="write-object-to-json-file">Write Object to JSON File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">write_to_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="nb">file</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="pickle">Pickle</h2><p><strong>Binary file format for storing objects.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pickle</span>
<span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="read-object-from-file">Read Object from File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pickle</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="write-object-to-file">Write Object to File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">write_to_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">pickle</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="nb">file</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="csv">CSV</h2><p><strong>Text file format for storing spreadsheets.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">csv</span>
</pre></table></code></div></div><h3 id="read">Read</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect='excel', delimiter=','`.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns next row as a list of strings.
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns list of remaining rows.
</span></pre></table></code></div></div><ul><li><strong>File must be opened with a <code class="language-plaintext highlighter-rouge">'newline=""'</code> argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong></ul><h3 id="write">Write</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect='excel', delimiter=','`.
</span><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;</span><span class="p">.</span><span class="n">writerow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Encodes objects using `str(&lt;el&gt;)`.
</span><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;</span><span class="p">.</span><span class="n">writerows</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_coll</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Appends multiple rows.
</span></pre></table></code></div></div><ul><li><strong>File must be opened with a <code class="language-plaintext highlighter-rouge">'newline=""'</code> argument, or ‘\r’ will be added in front of every ‘\n’ on platforms that use ‘\r\n’ line endings!</strong></ul><h3 id="parameters">Parameters</h3><ul><li><strong><code class="language-plaintext highlighter-rouge">'dialect'</code> - Master parameter that sets the default values.</strong><li><strong><code class="language-plaintext highlighter-rouge">'delimiter'</code> - A one-character string used to separate fields.</strong><li><strong><code class="language-plaintext highlighter-rouge">'quotechar'</code> - Character for quoting fields that contain special characters.</strong><li><strong><code class="language-plaintext highlighter-rouge">'doublequote'</code> - Whether quotechars inside fields get doubled or escaped.</strong><li><strong><code class="language-plaintext highlighter-rouge">'skipinitialspace'</code> - Whether whitespace after delimiter gets stripped.</strong><li><strong><code class="language-plaintext highlighter-rouge">'lineterminator'</code> - Specifies how writer terminates rows.</strong><li><strong><code class="language-plaintext highlighter-rouge">'quoting'</code> - Controls the amount of quoting: 0 - as necessary, 1 - all.</strong><li><strong><code class="language-plaintext highlighter-rouge">'escapechar'</code> - Character for escaping ‘quotechar’ if ‘doublequote’ is False.</strong></ul><h3 id="dialects">Dialects</h3><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>+------------------+--------------+--------------+--------------+
|                  |    excel     |   excel-tab  |     unix     |
+------------------+--------------+--------------+--------------+
| delimiter        |    ','       |    '\t'      |     ','      |
| quotechar        |    '"'       |    '"'       |     '"'      |
| doublequote      |    True      |    True      |     True     |
| skipinitialspace |    False     |    False     |     False    |
| lineterminator   |    '\r\n'    |    '\r\n'    |     '\n'     |
| quoting          |    0         |    0         |     1        |
| escapechar       |    None      |    None      |     None     |
+------------------+--------------+--------------+--------------+
</pre></table></code></div></div><h3 id="read-rows-from-csv-file">Read Rows from CSV File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s">''</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">file</span><span class="p">))</span>
</pre></table></code></div></div><h3 id="write-rows-to-csv-file">Write Rows to CSV File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">write_to_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">rows</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s">''</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">writer</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
        <span class="n">writer</span><span class="p">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="sqlite">SQLite</h2><p><strong>Server-less database engine that stores each database into a separate file.</strong></p><h3 id="connect">Connect</h3><p><strong>Opens a connection to the database file. Creates a new file if path doesn’t exist.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Also ':memory:'.
</span><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>                                  <span class="c1"># Closes the connection.
</span></pre></table></code></div></div><h3 id="read-1">Read</h3><p><strong>Returned values can be of type str, int, float, bytes or None.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">)</span>            <span class="c1"># Can raise a subclass of sqlite3.Error.
</span><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>                  <span class="c1"># Returns next row. Also next(&lt;cursor&gt;).
</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span><span class="p">.</span><span class="n">fetchall</span><span class="p">()</span>                  <span class="c1"># Returns remaining rows. Also list(&lt;cursor&gt;).
</span></pre></table></code></div></div><h3 id="write-1">Write</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">)</span>                       <span class="c1"># Can raise a subclass of sqlite3.Error.
</span><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>                                 <span class="c1"># Commits all transactions since last commit.
</span></pre></table></code></div></div><h4 id="or">Or:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">with</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="placeholders">Placeholders</h3><ul><li><strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetme.</strong><li><strong>Bools will be stored and returned as ints and dates as <a href="#encode">ISO formatted strings</a>.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Replaces '?'s in query with values.
</span><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">namedtuple</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Replaces ':&lt;key&gt;'s with values.
</span><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">executemany</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_above</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Runs execute() multiple times.
</span></pre></table></code></div></div><h3 id="example">Example</h3><p><strong>In this example values are not actually saved because <code class="language-plaintext highlighter-rouge">'conn.commit()'</code> is omitted!</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'test.db'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'CREATE TABLE person (person_id INTEGER PRIMARY KEY, name, height)'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'INSERT INTO person VALUES (NULL, ?, ?)'</span><span class="p">,</span> <span class="p">(</span><span class="s">'Jean-Luc'</span><span class="p">,</span> <span class="mi">187</span><span class="p">)).</span><span class="n">lastrowid</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'SELECT * FROM person'</span><span class="p">).</span><span class="n">fetchall</span><span class="p">()</span>
<span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s">'Jean-Luc'</span><span class="p">,</span> <span class="mi">187</span><span class="p">)]</span>
</pre></table></code></div></div><h3 id="mysql">MySQL</h3><p><strong>Has a very similar interface, with differences listed below.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1"># $ pip3 install mysql-connector
</span><span class="kn">from</span> <span class="nn">mysql</span> <span class="kn">import</span> <span class="n">connector</span>
<span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">connector</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>     <span class="c1"># `user=&lt;str&gt;, password=&lt;str&gt;, database=&lt;str&gt;`.
</span><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>                      <span class="c1"># Only cursor has execute method.
</span><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">)</span>                     <span class="c1"># Can raise a subclass of connector.Error.
</span><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Replaces '%s's in query with values.
</span><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'&lt;query&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">namedtuple</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Replaces '%(&lt;key&gt;)s's with values.
</span></pre></table></code></div></div><h2 id="bytes">Bytes</h2><p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'&lt;str&gt;'</span>                       <span class="c1"># Only accepts ASCII characters and \x00 - \xff.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>               <span class="c1"># Returns int in range from 0 to 255.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>               <span class="c1"># Returns bytes even if it has only one element.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_bytes</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Joins elements using bytes object as separator.
</span></pre></table></code></div></div><h3 id="encode-1">Encode</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_ints</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Ints must be in range from 0 to 255.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">)</span>          <span class="c1"># Or: &lt;str&gt;.encode('utf-8')
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">n_bytes</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>     <span class="c1"># `byteorder='big/little', signed=False`.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s">'&lt;hex&gt;'</span><span class="p">)</span>         <span class="c1"># Hex pairs can be separated by spaces.
</span></pre></table></code></div></div><h3 id="decode-1">Decode</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Returns ints in range from 0 to 255.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">)</span>          <span class="c1"># Or: &lt;bytes&gt;.decode('utf-8')
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>     <span class="c1"># `byteorder='big/little', signed=False`.
</span><span class="s">'&lt;hex&gt;'</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">.</span><span class="nb">hex</span><span class="p">()</span>                  <span class="c1"># Returns a string of hexadecimal pairs.
</span></pre></table></code></div></div><h3 id="read-bytes-from-file">Read Bytes from File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</pre></table></code></div></div><h3 id="write-bytes-to-file">Write Bytes to File</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">write_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">bytes_obj</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="nb">file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="struct">Struct</h2><ul><li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong><li><strong>Machine’s native type sizes and byte order are used by default.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">struct</span> <span class="kn">import</span> <span class="n">pack</span><span class="p">,</span> <span class="n">unpack</span><span class="p">,</span> <span class="n">iter_unpack</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">pack</span><span class="p">(</span><span class="s">'&lt;format&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num_1</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">num_2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...])</span>
<span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">unpack</span><span class="p">(</span><span class="s">'&lt;format&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tuples</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">iter_unpack</span><span class="p">(</span><span class="s">'&lt;format&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">pack</span><span class="p">(</span><span class="s">'&gt;hhl'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="sa">b</span><span class="s">'</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s">'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">unpack</span><span class="p">(</span><span class="s">'&gt;hhl'</span><span class="p">,</span> <span class="sa">b</span><span class="s">'</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s">'</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="format-2">Format</h3><h4 id="for-standard-type-sizes-start-format-string-with">For standard type sizes start format string with:</h4><ul><li><strong><code class="language-plaintext highlighter-rouge">'='</code> - native byte order (usually little-endian)</strong><li><strong><code class="language-plaintext highlighter-rouge">'&lt;'</code> - little-endian</strong><li><strong><code class="language-plaintext highlighter-rouge">'&gt;'</code> - big-endian (also <code class="language-plaintext highlighter-rouge">'!'</code>)</strong></ul><h4 id="integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets">Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:</h4><ul><li><strong><code class="language-plaintext highlighter-rouge">'x'</code> - pad byte</strong><li><strong><code class="language-plaintext highlighter-rouge">'b'</code> - char (1/1)</strong><li><strong><code class="language-plaintext highlighter-rouge">'h'</code> - short (2/2)</strong><li><strong><code class="language-plaintext highlighter-rouge">'i'</code> - int (2/4)</strong><li><strong><code class="language-plaintext highlighter-rouge">'l'</code> - long (4/4)</strong><li><strong><code class="language-plaintext highlighter-rouge">'q'</code> - long long (8/8)</strong></ul><h4 id="floating-point-types">Floating point types:</h4><ul><li><strong><code class="language-plaintext highlighter-rouge">'f'</code> - float (4/4)</strong><li><strong><code class="language-plaintext highlighter-rouge">'d'</code> - double (8/8)</strong></ul><h2 id="array">Array</h2><p><strong>List that can only hold numbers of a predefined type. Available types and their minimum sizes in bytes are listed above. Sizes and byte order are always determined by the system.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">'&lt;typecode&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Array from collection of numbers.
</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">'&lt;typecode&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Array from bytes object.
</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">'&lt;typecode&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats array as a sequence of numbers.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;array&gt;.tobytes()
</span></pre></table></code></div></div><h2 id="memory-view">Memory View</h2><ul><li><strong>A sequence object that points to the memory of another object.</strong><li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong><li><strong>Order and number of elements can be changed with slicing.</strong></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">memoryview</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">/</span><span class="nb">bytearray</span><span class="o">/</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Immutable if bytes, else mutable.
</span><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Returns an int or a float.
</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Mview with rearranged elements.
</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">.</span><span class="n">cast</span><span class="p">(</span><span class="s">'&lt;typecode&gt;'</span><span class="p">)</span>           <span class="c1"># Casts memoryview to the new format.
</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>                              <span class="c1"># Releases the object's memory buffer.
</span></pre></table></code></div></div><h3 id="decode-2">Decode</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">bin_file</span><span class="o">&gt;</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Writes mview to the binary file.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Creates a new bytes object.
</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_mviews</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins mviews using bytes object as sep.
</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s">'&lt;typecode&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats mview as a sequence of numbers.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                        <span class="c1"># Returns list of ints or floats.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">)</span>                <span class="c1"># Treats mview as a bytes object.
</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="p">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>           <span class="c1"># `byteorder='big/little', signed=False`.
</span><span class="s">'&lt;hex&gt;'</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">.</span><span class="nb">hex</span><span class="p">()</span>                        <span class="c1"># Treats mview as a bytes object.
</span></pre></table></code></div></div><h2 id="deque">Deque</h2><p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced “deck”.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span><span class="p">.</span><span class="n">appendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Opposite element is dropped if full.
</span><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span><span class="p">.</span><span class="n">extendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Collection gets reversed.
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>                       <span class="c1"># Raises IndexError if empty.
</span><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span><span class="p">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                            <span class="c1"># Rotates elements to the right.
</span></pre></table></code></div></div><h2 id="threading">Threading</h2><ul><li><strong>CPython interpreter can only run a single thread at a time.</strong><li><strong>That is why using multiple threads won’t result in a faster execution, unless at least one of the threads contains an I/O operation.</strong><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span><span class="p">,</span> <span class="n">RLock</span><span class="p">,</span> <span class="n">Semaphore</span><span class="p">,</span> <span class="n">Event</span><span class="p">,</span> <span class="n">Barrier</span>
<span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span>
</pre></table></code></div></div></ul><h3 id="thread">Thread</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Use `args=&lt;collection&gt;` to set arguments.
</span><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>                               <span class="c1"># Starts the thread.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span><span class="p">.</span><span class="n">is_alive</span><span class="p">()</span>                   <span class="c1"># Checks if thread has finished executing.
</span><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>                                <span class="c1"># Waits for thread to finish.
</span></pre></table></code></div></div><ul><li><strong>Use <code class="language-plaintext highlighter-rouge">'kwargs=&lt;dict&gt;'</code> to pass keyword arguments to the function.</strong><li><strong>Use <code class="language-plaintext highlighter-rouge">'daemon=True'</code>, or the program will not be able to exit while the thread is alive.</strong></ul><h3 id="lock">Lock</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">RLock</span><span class="p">()</span>                               <span class="c1"># Lock that can only be released by the owner.
</span><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>                               <span class="c1"># Waits for lock to be available.
</span><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>                               <span class="c1"># Makes lock available again.
</span></pre></table></code></div></div><h4 id="or-1">Or:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">lock</span> <span class="o">=</span> <span class="n">RLock</span><span class="p">()</span>
<span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
    <span class="p">...</span>
</pre></table></code></div></div><h3 id="semaphore-event-barrier">Semaphore, Event, Barrier</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Semaphore</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>               <span class="c1"># Lock that can be acquired by 'value' threads.
</span><span class="o">&lt;</span><span class="n">Event</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>                          <span class="c1"># Method wait() blocks until set() is called.
</span><span class="o">&lt;</span><span class="n">Barrier</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">Barrier</span><span class="p">(</span><span class="n">n_times</span><span class="p">)</span>                 <span class="c1"># Wait() blocks until it's called n_times.
</span></pre></table></code></div></div><h3 id="thread-pool-executor">Thread Pool Executor</h3><p><strong>Object that manages thread execution.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>  <span class="c1"># Or: `with ThreadPoolExecutor() as &lt;name&gt;: …`
</span><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span><span class="p">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>                     <span class="c1"># Blocks until all threads finish executing.
</span></pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span><span class="p">.</span><span class="nb">map</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">args_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...)</span>     <span class="c1"># A multithreaded and non-lazy map().
</span><span class="o">&lt;</span><span class="n">Futr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span><span class="p">.</span><span class="n">submit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...)</span>   <span class="c1"># Starts a thread and returns its Future object.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Futr</span><span class="o">&gt;</span><span class="p">.</span><span class="n">done</span><span class="p">()</span>                         <span class="c1"># Checks if the thread has finished executing.
</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Futr</span><span class="o">&gt;</span><span class="p">.</span><span class="n">result</span><span class="p">()</span>                       <span class="c1"># Waits for thread to finish and returns result.
</span></pre></table></code></div></div><h3 id="queue">Queue</h3><p><strong>A thread-safe FIFO queue. For LIFO queue use LifoQueue.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">queue</span> <span class="kn">import</span> <span class="n">Queue</span>
<span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Blocks until queue stops being full.
</span><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span><span class="p">.</span><span class="n">put_nowait</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Raises queue.Full exception if full.
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>                           <span class="c1"># Blocks until queue stops being empty.
</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span><span class="p">.</span><span class="n">get_nowait</span><span class="p">()</span>                    <span class="c1"># Raises queue.Empty exception if empty.
</span></pre></table></code></div></div><h2 id="operator">Operator</h2><p><strong>Module of functions that provide the functionality of operators.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">add</span><span class="p">,</span> <span class="n">sub</span><span class="p">,</span> <span class="n">mul</span><span class="p">,</span> <span class="n">truediv</span><span class="p">,</span> <span class="n">floordiv</span><span class="p">,</span> <span class="n">mod</span><span class="p">,</span> <span class="nb">pow</span><span class="p">,</span> <span class="n">neg</span><span class="p">,</span> <span class="nb">abs</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">eq</span><span class="p">,</span> <span class="n">ne</span><span class="p">,</span> <span class="n">lt</span><span class="p">,</span> <span class="n">le</span><span class="p">,</span> <span class="n">gt</span><span class="p">,</span> <span class="n">ge</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">and_</span><span class="p">,</span> <span class="n">or_</span><span class="p">,</span> <span class="n">xor</span><span class="p">,</span> <span class="n">not_</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span><span class="p">,</span> <span class="n">attrgetter</span><span class="p">,</span> <span class="n">methodcaller</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">operator</span> <span class="k">as</span> <span class="n">op</span>
<span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">add</span><span class="p">,</span> <span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)</span>
<span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="p">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="p">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">mul</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">union_of_sets</span>    <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="n">or_</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_sets</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">LogicOp</span>          <span class="o">=</span> <span class="n">enum</span><span class="p">.</span><span class="n">Enum</span><span class="p">(</span><span class="s">'LogicOp'</span><span class="p">,</span> <span class="p">{</span><span class="s">'AND'</span><span class="p">:</span> <span class="n">op</span><span class="p">.</span><span class="n">and_</span><span class="p">,</span> <span class="s">'OR'</span><span class="p">:</span> <span class="n">op</span><span class="p">.</span><span class="n">or_</span><span class="p">})</span>
<span class="n">last_el</span>          <span class="o">=</span> <span class="n">op</span><span class="p">.</span><span class="n">methodcaller</span><span class="p">(</span><span class="s">'pop'</span><span class="p">)(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="introspection">Introspection</h2><p><strong>Inspecting code at runtime.</strong></p><h3 id="variables">Variables</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">()</span>                             <span class="c1"># Names of local variables (incl. functions).
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">()</span>                            <span class="c1"># Dict of local variables. Also locals().
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()</span>                         <span class="c1"># Dict of global variables.
</span></pre></table></code></div></div><h3 id="attributes-1">Attributes</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Names of object's attributes (incl. methods).
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Dict of object's fields. Also &lt;obj&gt;.__dict__.
</span><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'&lt;attr_name&gt;'</span><span class="p">)</span>  <span class="c1"># Checks if getattr() raises an error.
</span><span class="n">value</span>  <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'&lt;attr_name&gt;'</span><span class="p">)</span>  <span class="c1"># Raises AttributeError if attribute is missing.
</span><span class="nb">setattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'&lt;attr_name&gt;'</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>    <span class="c1"># Only works on objects with __dict__ attribute.
</span><span class="nb">delattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s">'&lt;attr_name&gt;'</span><span class="p">)</span>           <span class="c1"># Equivalent to `del &lt;object&gt;.&lt;attr_name&gt;`.
</span></pre></table></code></div></div><h3 id="parameters-1">Parameters</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">signature</span>
<span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Function's Signature object.
</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;</span><span class="p">.</span><span class="n">parameters</span>                  <span class="c1"># Dict of function's Parameter objects.
</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;</span><span class="p">.</span><span class="n">name</span>                      <span class="c1"># Parameter's name.
</span><span class="o">&lt;</span><span class="n">memb</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;</span><span class="p">.</span><span class="n">kind</span>                      <span class="c1"># Member of ParameterKind enum.
</span></pre></table></code></div></div><h2 id="metaprograming">Metaprograming</h2><p><strong>Code that generates code.</strong></p><h3 id="type-1">Type</h3><p><strong>Type is the root class. If only passed an object it returns its type (class). Otherwise it creates a new class.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s">'&lt;class_name&gt;'</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">parents_tuple</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">attributes_dict</span><span class="o">&gt;</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">Z</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s">'Z'</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="s">'abcde'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">12345</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="n">Z</span><span class="p">()</span>
</pre></table></code></div></div><h3 id="meta-class">Meta Class</h3><p><strong>A class that creates classes.</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">my_meta_class</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
    <span class="n">attrs</span><span class="p">[</span><span class="s">'a'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'abcde'</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="or-2">Or:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyMetaClass</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s">'a'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'abcde'</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><strong>New() is a class method that gets called before init(). If it returns an instance of its class, then that instance gets passed to init() as a ‘self’ argument.</strong><li><strong>It receives the same arguments as init(), except for the first one that specifies the desired type of the returned instance (MyMetaClass in our case).</strong><li><strong>Like in our case, new() can also be called directly, usually from a new() method of a child class (</strong><code class="language-plaintext highlighter-rouge">def __new__(cls): return super().__new__(cls)</code><strong>).</strong><li><strong>The only difference between the examples above is that my_meta_class() returns a class of type type, while MyMetaClass() returns a class of type MyMetaClass.</strong></ul><h3 id="metaclass-attribute">Metaclass Attribute</h3><p><strong>Right before a class is created it checks if it has the ‘metaclass’ attribute defined. If not, it recursively checks if any of his parents has it defined and eventually comes to type().</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">MyMetaClass</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">12345</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">MyClass</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">MyClass</span><span class="p">.</span><span class="n">b</span>
<span class="p">(</span><span class="s">'abcde'</span><span class="p">,</span> <span class="mi">12345</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="type-diagram">Type Diagram</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">type</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span>     <span class="o">==</span> <span class="n">MyMetaClass</span>     <span class="c1"># MyClass is an instance of MyMetaClass.
</span><span class="nb">type</span><span class="p">(</span><span class="n">MyMetaClass</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span>            <span class="c1"># MyMetaClass is an instance of type.
</span></pre></table></code></div></div><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>+-------------+-------------+
|   Classes   | Metaclasses |
+-------------+-------------|
|   MyClass --&gt; MyMetaClass |
|             |     v       |
|    object -----&gt; type &lt;+  |
|             |     ^ +--+  |
|     str ----------+       |
+-------------+-------------+
</pre></table></code></div></div><h3 id="inheritance-diagram">Inheritance Diagram</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">MyClass</span><span class="p">.</span><span class="n">__base__</span>     <span class="o">==</span> <span class="nb">object</span>       <span class="c1"># MyClass is a subclass of object.
</span><span class="n">MyMetaClass</span><span class="p">.</span><span class="n">__base__</span> <span class="o">==</span> <span class="nb">type</span>         <span class="c1"># MyMetaClass is a subclass of type.
</span></pre></table></code></div></div><div class="language-text highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>+-------------+-------------+
|   Classes   | Metaclasses |
+-------------+-------------|
|   MyClass   | MyMetaClass |
|      v      |     v       |
|    object &lt;----- type     |
|      ^      |             |
|     str     |             |
+-------------+-------------+
</pre></table></code></div></div><h2 id="eval">Eval</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">ast</span> <span class="kn">import</span> <span class="n">literal_eval</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">literal_eval</span><span class="p">(</span><span class="s">'[1, 2, 3]'</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">literal_eval</span><span class="p">(</span><span class="s">'1 + 2'</span><span class="p">)</span>
<span class="nb">ValueError</span><span class="p">:</span> <span class="n">malformed</span> <span class="n">node</span> <span class="ow">or</span> <span class="n">string</span>
</pre></table></code></div></div><h2 id="coroutines">Coroutines</h2><ul><li><strong>Coroutines have a lot in common with threads, but unlike threads, they only give up control when they call another coroutine and they don’t use as much memory.</strong><li><strong>Coroutine definition starts with <code class="language-plaintext highlighter-rouge">'async'</code> and its call with <code class="language-plaintext highlighter-rouge">'await'</code>.</strong><li><strong><code class="language-plaintext highlighter-rouge">'asyncio.run(&lt;coroutine&gt;)'</code> is the main entry point for asynchronous programs.</strong><li><strong>Functions wait(), gather() and as_completed() can be used when multiple coroutines need to be started at the same time.</strong><li><strong>Asyncio module also provides its own <a href="#queue">Queue</a>, <a href="#semaphore-event-barrier">Event</a>, <a href="#lock">Lock</a> and <a href="#semaphore-event-barrier">Semaphore</a> classes.</strong></ul><h4 id="runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">Runs a terminal game where you control an asterisk that must avoid numbers:</h4><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">asyncio</span><span class="p">,</span> <span class="n">collections</span><span class="p">,</span> <span class="n">curses</span><span class="p">,</span> <span class="n">enum</span><span class="p">,</span> <span class="n">random</span>

<span class="n">P</span> <span class="o">=</span> <span class="n">collections</span><span class="p">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s">'P'</span><span class="p">,</span> <span class="s">'x y'</span><span class="p">)</span>         <span class="c1"># Position
</span><span class="n">D</span> <span class="o">=</span> <span class="n">enum</span><span class="p">.</span><span class="n">Enum</span><span class="p">(</span><span class="s">'D'</span><span class="p">,</span> <span class="s">'n e s w'</span><span class="p">)</span>                  <span class="c1"># Direction
</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
    <span class="n">curses</span><span class="p">.</span><span class="n">curs_set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                         <span class="c1"># Makes cursor invisible.
</span>    <span class="n">screen</span><span class="p">.</span><span class="n">nodelay</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>                       <span class="c1"># Makes getch() non-blocking.
</span>    <span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">))</span>        <span class="c1"># Starts running asyncio code.
</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s">'*'</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="p">{</span><span class="n">id_</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}}</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">Queue</span><span class="p">()</span>
    <span class="n">coros</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
             <span class="n">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">),</span>
             <span class="n">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="o">*</span><span class="n">screen</span><span class="p">.</span><span class="n">getmaxyx</span><span class="p">()),</span>
             <span class="n">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">))</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">wait</span><span class="p">(</span><span class="n">coros</span><span class="p">,</span> <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="p">.</span><span class="n">FIRST_COMPLETED</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">D</span><span class="p">))</span>
        <span class="n">moves</span><span class="p">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="n">id_</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">ch</span> <span class="o">=</span> <span class="n">screen</span><span class="p">.</span><span class="n">getch</span><span class="p">()</span>
        <span class="n">key_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="mi">259</span><span class="p">:</span> <span class="n">D</span><span class="p">.</span><span class="n">n</span><span class="p">,</span> <span class="mi">261</span><span class="p">:</span> <span class="n">D</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="mi">258</span><span class="p">:</span> <span class="n">D</span><span class="p">.</span><span class="n">s</span><span class="p">,</span> <span class="mi">260</span><span class="p">:</span> <span class="n">D</span><span class="p">.</span><span class="n">w</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">key_mappings</span><span class="p">:</span>
            <span class="n">moves</span><span class="p">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="s">'*'</span><span class="p">,</span> <span class="n">key_mappings</span><span class="p">[</span><span class="n">ch</span><span class="p">]))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  

<span class="k">async</span> <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">state</span><span class="p">[</span><span class="s">'*'</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">p</span> <span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">state</span><span class="p">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">id_</span> <span class="o">!=</span> <span class="s">'*'</span><span class="p">}:</span>
        <span class="n">id_</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="k">await</span> <span class="n">moves</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">p</span>      <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span>
        <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">D</span><span class="p">.</span><span class="n">n</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="p">.</span><span class="n">e</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">D</span><span class="p">.</span><span class="n">s</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="p">.</span><span class="n">w</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
        <span class="n">new_p</span>  <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">deltas</span><span class="p">[</span><span class="n">d</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">deltas</span><span class="p">[</span><span class="n">d</span><span class="p">].</span><span class="n">y</span><span class="p">)</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">new_p</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">new_p</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">:</span>
            <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_p</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">screen</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">state</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">screen</span><span class="p">.</span><span class="n">addstr</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">curses</span><span class="p">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
</pre></table></code></div></div><p><br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/notes/'>Notes</a>, <a href='/categories/python/'>Python</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/cheatsheet/" class="post-tag no-text-decoration" >cheatsheet</a> <a href="/tags/declarations/" class="post-tag no-text-decoration" >declarations</a> <a href="/tags/statements/" class="post-tag no-text-decoration" >statements</a> <a href="/tags/functions/" class="post-tag no-text-decoration" >functions</a> <a href="/tags/types/" class="post-tag no-text-decoration" >types</a> <a href="/tags/syntax/" class="post-tag no-text-decoration" >syntax</a> <a href="/tags/data/" class="post-tag no-text-decoration" >data</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Python Cheatsheet - Richard Hernandez&url=/posts/python-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Python Cheatsheet - Richard Hernandez&u=/posts/python-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Python Cheatsheet - Richard Hernandez&url=/posts/python-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/docker-essentials/">Docker Essentials</a><li><a href="/posts/C++-const-keyword/">C++ Const Keyword</a><li><a href="/posts/C++-Streams/">C++ Streams</a><li><a href="/posts/p5-art/">Some other P5 Projects</a><li><a href="/posts/terraingen-v2/">Terrain Generator using Perlin Noise</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cheatsheet/">cheatsheet</a> <a class="post-tag" href="/tags/advance/">Advance</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/functions/">functions</a> <a class="post-tag" href="/tags/proggramming/">Proggramming</a> <a class="post-tag" href="/tags/declarations/">declarations</a> <a class="post-tag" href="/tags/images/">images</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/methods/">methods</a> <a class="post-tag" href="/tags/noise/">noise</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/cpp-cheatsheet/"><div class="card-body"> <span class="timeago small" > Apr 19, 2021 <i class="unloaded">2021-04-19T00:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++ Cheatsheet</h3><div class="text-muted small"><p> This cheatsheet is not created by me for original author follow this link: The document is hosted on Here. Preprocessor // Comment to end of line ...</p></div></div></a></div><div class="card"> <a href="/posts/python-libraries/"><div class="card-body"> <span class="timeago small" > Apr 25, 2021 <i class="unloaded">2021-04-25T00:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Python Libraries</h3><div class="text-muted small"><p> Libraries: Progress_Bar, Plot, Table, Curses, Logging, Scraping, Web, Profile, NumPy, Image, Audio, Games, Data. This post is modified to fit my needs. The original source is in the following...</p></div></div></a></div><div class="card"> <a href="/posts/C++-const-keyword/"><div class="card-body"> <span class="timeago small" > Aug 8, 2021 <i class="unloaded">2021-08-08T02:10:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++ Const Keyword</h3><div class="text-muted small"><p> const with functions Reference: Video Using const in methods examples, and can be used for more efficiency. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/cpp-cheatsheet/" class="btn btn-outline-primary" prompt="Older"><p>C++ Cheatsheet</p></a> <a href="/posts/python-libraries/" class="btn btn-outline-primary" prompt="Newer"><p>Python Libraries</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/rhg101997">Richard Hernandez</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/cheatsheet/">cheatsheet</a> <a class="post-tag" href="/tags/advance/">Advance</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/functions/">functions</a> <a class="post-tag" href="/tags/proggramming/">Proggramming</a> <a class="post-tag" href="/tags/declarations/">declarations</a> <a class="post-tag" href="/tags/images/">images</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/methods/">methods</a> <a class="post-tag" href="/tags/noise/">noise</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
